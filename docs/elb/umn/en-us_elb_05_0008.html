<a name="en-us_elb_05_0008"></a><a name="en-us_elb_05_0008"></a>

<h1 class="topictitle1">What Are the Relationships Between Load Balancing Algorithms and Sticky Session Types?</h1>
<p id="en-us_elb_05_0008__p1967507014212">Sticky sessions ensure that requests from the same client are forwarded to the same backend server. ELB supports three types of sticky sessions. <a href="#en-us_elb_05_0008__table1612018518726">Table 3</a> lists the relationships between load balancing algorithms and sticky session types of classic load balancers. <a href="#en-us_elb_05_0008__table44808652142126">Table 1</a> lists the relationships between load balancing algorithms and sticky session types of <span id="en-us_elb_05_0008__ph1645535710329">shared</span> load balancers, and <a href="#en-us_elb_05_0008__table169631166584">Table 2</a> lists the relationships between load balancing algorithms and sticky session types of dedicated load balancers.</p>
<img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><p id="en-us_elb_05_0008__p1129116891613">Classic load balancers can no longer be created on the management console. Use shared load balancers or dedicated load balancers instead.</p>
</div>

<a name="en-us_elb_05_0008__table44808652142126"></a><a name="table44808652142126"></a><table cellpadding="4" cellspacing="0" summary="" id="en-us_elb_05_0008__table44808652142126" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Sticky sessions supported by <span id="en-us_elb_05_0008__ph669718389418">shared</span> load balancers</caption><thead align="left"><tr id="en-us_elb_05_0008__row57750719142126"><th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.3.2.5.1.1"><p id="en-us_elb_05_0008__p56688074142142"><strong id="en-us_elb_05_0008__b84235270610234">Load Balancing Algorithm</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="31.95%" id="mcps1.3.3.2.5.1.2"><p id="en-us_elb_05_0008__p52415961142126">Sticky Session Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20.68%" id="mcps1.3.3.2.5.1.3"><p id="en-us_elb_05_0008__p4883497514222"><strong id="en-us_elb_05_0008__b842352706144352">Layer 4 (TCP/UDP)</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="22.37%" id="mcps1.3.3.2.5.1.4"><p id="en-us_elb_05_0008__p35305098142126"><strong id="en-us_elb_05_0008__b842352706123424">Layer 7 (HTTP/HTTPS)</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_elb_05_0008__row49310429142126"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p36596594142258">Weighted round robin</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p3955310142336">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p2738028614244">Supported</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.3.2.5.1.4 "><p id="en-us_elb_05_0008__p321066114244">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row33466439142126"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p64848874142336">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p5887104114244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p382499114244">Supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row57140943142126"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p30189096142336">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p3695507314244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p4057092714244">Supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row34797656142126"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p4320234142249">Weighted least connections</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p63252787142336">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p4830601114244">Not supported</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.3.2.5.1.4 "><p id="en-us_elb_05_0008__p2047283614244">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row15279881142126"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p7492703142336">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p2652971714244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p316713398104">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row9181406142131"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p26362629142336">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p3105612214244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p4740173815114">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row20434471142131"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p17428470142251">Source IP hash</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p25221962142336">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p1617379314244">N/A</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.3.2.5.1.4 "><p id="en-us_elb_05_0008__p3500885214244">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row2150805142126"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p66090712142336">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p2008522214244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p1629026714244">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row63191412142126"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.1 "><p id="en-us_elb_05_0008__p63073698142336">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.2 "><p id="en-us_elb_05_0008__p6444507014244">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.5.1.3 "><p id="en-us_elb_05_0008__p5266815914244">Not supported</p>
</td>
</tr>
</tbody>
</table>


<a name="en-us_elb_05_0008__table169631166584"></a><a name="table169631166584"></a><table cellpadding="4" cellspacing="0" summary="" id="en-us_elb_05_0008__table169631166584" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Sticky sessions supported by dedicated load balancers</caption><thead align="left"><tr id="en-us_elb_05_0008__row10964166155818"><th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.5.1.1"><p id="en-us_elb_05_0008__p29641969581"><strong id="en-us_elb_05_0008__b1071094779">Load Balancing Algorithm</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="31.95%" id="mcps1.3.4.2.5.1.2"><p id="en-us_elb_05_0008__p596411616586">Sticky Session Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20.68%" id="mcps1.3.4.2.5.1.3"><p id="en-us_elb_05_0008__p596416125817"><strong id="en-us_elb_05_0008__b1652254424">Layer 4 (TCP/UDP)</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="22.37%" id="mcps1.3.4.2.5.1.4"><p id="en-us_elb_05_0008__p496410655820"><strong id="en-us_elb_05_0008__b1643366353">Layer 7 (HTTP/HTTPS)</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_elb_05_0008__row39641167586"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p1796419615810">Weighted round robin</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p119654612589">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p1896512617587">Supported</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.4.2.5.1.4 "><p id="en-us_elb_05_0008__p109651965587">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row996586125816"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p396510675816">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p2965962586">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p796513655820">Supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row189651766583"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p199651960581">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p89656610588">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p1096546105812">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row109650614587"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p19651969585">Weighted least connections</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p3965136175816">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p119651618584">Not supported</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.4.2.5.1.4 "><p id="en-us_elb_05_0008__p59651561581">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row89654611585"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p39652625817">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p199651618580">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p1796536205819">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row159655625811"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p29651765589">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p12965126145818">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p541111481403">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row1396646195818"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p12966206165812">Source IP hash</p>
</td>
<td class="cellrowborder" valign="top" width="31.95%" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p1896620655812">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="20.68%" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p496614619585">N/A</p>
</td>
<td class="cellrowborder" valign="top" width="22.37%" headers="mcps1.3.4.2.5.1.4 "><p id="en-us_elb_05_0008__p1966156175819">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row1396656135813"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p796620613583">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p1496617618581">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p1966464581">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row149660675818"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.1 "><p id="en-us_elb_05_0008__p69661068587">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.2 "><p id="en-us_elb_05_0008__p79661866584">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.5.1.3 "><p id="en-us_elb_05_0008__p99669616582">Not supported</p>
</td>
</tr>
</tbody>
</table>


<a name="en-us_elb_05_0008__table1612018518726"></a><a name="table1612018518726"></a><table cellpadding="4" cellspacing="0" summary="" id="en-us_elb_05_0008__table1612018518726" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Session stickiness of classic load balancers</caption><thead align="left"><tr id="en-us_elb_05_0008__row4031731118726"><th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.5.2.5.1.1"><p id="en-us_elb_05_0008__p3759409618838"><strong id="en-us_elb_05_0008__b280255018838">Load Balancing Algorithm</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.5.2.5.1.2"><p id="en-us_elb_05_0008__p2568002018838"><strong id="en-us_elb_05_0008__b2979358918838">Sticky Session Type</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.5.2.5.1.3"><p id="en-us_elb_05_0008__p6447051418838"><strong id="en-us_elb_05_0008__b1076629462">Layer 4 (TCP/UDP)</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.5.2.5.1.4"><p id="en-us_elb_05_0008__p2280043118838"><strong id="en-us_elb_05_0008__b1592878267">Layer 7 (HTTP/HTTPS)</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_elb_05_0008__row2886765918726"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p464373218838">Round robin</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p4059800018838">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p10366418838">Supported</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.4 "><p id="en-us_elb_05_0008__p839679618838">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row3177055518726"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p1435825318838">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p2216786418838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p5076657218838">Supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row5977167318726"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p3184695918838">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p2946689518838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p62808486181718">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row227775918726"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p5918080418838">Least connections</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p2891582618838">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p6048060918838">Supported</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.4 "><p id="en-us_elb_05_0008__p6709119318838">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row1472471318813"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p5422692218838">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p3030459018838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p3875272618838">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row1477401918813"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p6501485318838">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p3171176818838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p44220119181726">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row190362518813"><td class="cellrowborder" rowspan="3" valign="top" width="25%" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p957039418838">Source IP hash</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p3700448618838">Source IP address</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p221819596227">N/A</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.5.2.5.1.4 "><p id="en-us_elb_05_0008__p2218145962216">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row1219487518813"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p255581518838">Load balancer cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p569442918838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p5859560418838">Not supported</p>
</td>
</tr>
<tr id="en-us_elb_05_0008__row2628835018835"><td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.1 "><p id="en-us_elb_05_0008__p3495809818838">Application cookie</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.2 "><p id="en-us_elb_05_0008__p1303366518838">N/A</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.5.1.3 "><p id="en-us_elb_05_0008__p34236357181722">Not supported</p>
</td>
</tr>
</tbody>
</table>

<p id="en-us_elb_05_0008__p787562314253">Generally, the weighted round robin algorithm is recommended. Sticky sessions at Layer 4 use source IP addresses to main sessions, and sticky sessions at Layer 7 use load balancer cookies.</p>



<strong>Parent topic:</strong> <a href="elb_faq_0202.html">Listener</a>



