<a name="elb_zq_bq_0008"></a><a name="elb_zq_bq_0008"></a>

<h1 class="topictitle1">Batch Adding or Deleting Listener Tags</h1>
<h4 class="sectiontitle">Function</h4><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p50784912114623">This API is used to batch add tags to or delete tags from a listener.</p>
<img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0109852830_p1082815344418">You can also use this API for dedicated load balancers.</p>


<h4 class="sectiontitle">Constraints</h4><ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul466316418507"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li39820564509">A maximum of 20 tags can be added to a listener.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li14616353145018">This API is idempotent.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li195132318512">Note the following when you add tags:<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul766311411501"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li146631341145018">If there are duplicate keys in the request body, an error is reported.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li166631241195015">If there are no duplicate keys in the request body but the key in the request body exists in the database, the key in the database is overwritten.</li></ul>
</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li566354117509">Note the following when you delete the tags:<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul13663124116509"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li17663641195013">If the tag to be deleted does not exist, the deletion is considered successful by default.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li7663541165013">The value range of the tag character set is not verified.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li17663841125017">The tag structure body cannot be missing, and the key cannot be left blank or set to an empty string.</li></ul>
</li></ul>

<h4 class="sectiontitle">URI</h4><p id="elb_zq_bq_0008__en-us_topic_0109852833_p1878575318189">POST /v2.0/{project_id}/listeners/{listener_id}/tags/action</p>

<table cellpadding="4" cellspacing="0" summary="" id="elb_zq_bq_0008__en-us_topic_0109852833_table33323423" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameter description</caption><thead align="left"><tr id="elb_zq_bq_0008__en-us_topic_0109852833_row8420641"><th align="left" class="cellrowborder" valign="top" width="13%" id="mcps1.3.3.3.2.5.1.1"><p id="elb_zq_bq_0008__en-us_topic_0109852833_p10983320">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="12%" id="mcps1.3.3.3.2.5.1.2"><p id="elb_zq_bq_0008__en-us_topic_0109852833_p17233719"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_b84235270616735">Mandatory</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11%" id="mcps1.3.3.3.2.5.1.3"><p id="elb_zq_bq_0008__en-us_topic_0109852833_p4164548117122"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_b842352706151111">Type</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="64%" id="mcps1.3.3.3.2.5.1.4"><p id="elb_zq_bq_0008__en-us_topic_0109852833_p53754023">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="elb_zq_bq_0008__en-us_topic_0109852833_row53906008171138"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.3.3.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p16126074171144">project_id</p>
</td>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.3.3.3.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p31143627171144">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="11%" headers="mcps1.3.3.3.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p39605860171144">String</p>
</td>
<td class="cellrowborder" valign="top" width="64%" headers="mcps1.3.3.3.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p11184131">Specifies the ID of the project where the tag is used.</p>
<p id="elb_zq_bq_0008__en-us_topic_0109852833_p8222164914610"></p>
</td>
</tr>
<tr id="elb_zq_bq_0008__en-us_topic_0109852833_row1686321181111"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.3.3.3.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p15863201114114">listener_id</p>
</td>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.3.3.3.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p486381113115">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="11%" headers="mcps1.3.3.3.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p77219019124">String</p>
</td>
<td class="cellrowborder" valign="top" width="64%" headers="mcps1.3.3.3.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p1220014383149">Specifies the ID of the listener to which tags are to be added or from which tags are to be deleted.</p>
</td>
</tr>
</tbody>
</table>


<h4 class="sectiontitle">Request</h4>
<table cellpadding="4" cellspacing="0" summary="" id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_table22255723114623" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Parameter description</caption><thead align="left"><tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row22053842114623"><th align="left" class="cellrowborder" valign="top" width="31.626837316268368%" id="mcps1.3.4.2.2.5.1.1"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p41530752114623">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.288571142885708%" id="mcps1.3.4.2.2.5.1.2"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p8547718114623"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b1016045187">Mandatory</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.288571142885708%" id="mcps1.3.4.2.2.5.1.3"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p21276557114623"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b1569078682">Type</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="39.7960203979602%" id="mcps1.3.4.2.2.5.1.4"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p45679548114623">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row9055932114623"><td class="cellrowborder" valign="top" width="31.626837316268368%" headers="mcps1.3.4.2.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p62441909114623">tags</p>
</td>
<td class="cellrowborder" valign="top" width="14.288571142885708%" headers="mcps1.3.4.2.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p24629838114623">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="14.288571142885708%" headers="mcps1.3.4.2.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p48859823114623">Array</p>
</td>
<td class="cellrowborder" valign="top" width="39.7960203979602%" headers="mcps1.3.4.2.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p65331585114623">Lists the tags. For details, see <a href="#elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_table27826557114623">Table 3</a>.</p>
</td>
</tr>
<tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row51113355114623"><td class="cellrowborder" valign="top" width="31.626837316268368%" headers="mcps1.3.4.2.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p46541129114623">action</p>
</td>
<td class="cellrowborder" valign="top" width="14.288571142885708%" headers="mcps1.3.4.2.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p11735115114623">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="14.288571142885708%" headers="mcps1.3.4.2.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p11020282114623">String</p>
</td>
<td class="cellrowborder" valign="top" width="39.7960203979602%" headers="mcps1.3.4.2.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p15275172865210">Specifies the operation identifier.</p>
<p id="elb_zq_bq_0008__en-us_topic_0109852833_p0368439185218">The value can be one of the following:</p>
<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul268144110523"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li12611520527"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b116221454154313">create</strong>: adds tags to the listener.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li1668154145215"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b842352706114722">delete</strong>: deletes tags from the listener.</li></ul>
</td>
</tr>
</tbody>
</table>


<a name="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_table27826557114623"></a><a name="en-us_topic_0109852833_en-us_topic_0094115927_table27826557114623"></a><table cellpadding="4" cellspacing="0" summary="" id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_table27826557114623" frame="border" border="1" rules="all"><caption><b>Table 3 </b><strong id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_b84235270613546">resource_tag</strong> parameter description</caption><thead align="left"><tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row40402544114623"><th align="left" class="cellrowborder" valign="top" width="23.747625237476253%" id="mcps1.3.4.3.2.5.1.1"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p51380671114623">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.918408159184082%" id="mcps1.3.4.3.2.5.1.2"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p1084855114623"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b800184519">Mandatory</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.648435156484354%" id="mcps1.3.4.3.2.5.1.3"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p20764415114623"><strong id="elb_zq_bq_0008__en-us_topic_0109852833_b2138289338">Type</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="44.685531446855315%" id="mcps1.3.4.3.2.5.1.4"><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p4196031114623">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row4334240114623"><td class="cellrowborder" valign="top" width="23.747625237476253%" headers="mcps1.3.4.3.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p15529161114623">key</p>
</td>
<td class="cellrowborder" valign="top" width="15.918408159184082%" headers="mcps1.3.4.3.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p49902563114623">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="15.648435156484354%" headers="mcps1.3.4.3.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p15575830114623">String</p>
</td>
<td class="cellrowborder" valign="top" width="44.685531446855315%" headers="mcps1.3.4.3.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p15785205219187">Specifies the tag key.</p>
<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul5708182422218"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li19708182418226">Cannot be left blank.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li8708122417228">Can contain a maximum of 36 characters.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li2070822414225">Can contain only the following character types:<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul18708824152211"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li470882422219">Uppercase letters</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li170872412229">Lowercase letters</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li1370811246224">Digits</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li157081024172213">Special characters, including hyphens (-) and underscores (_)</li></ul>
</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li11709112414226">The tag key of a listener must be unique.</li></ul>
</td>
</tr>
<tr id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_row13382226114623"><td class="cellrowborder" valign="top" width="23.747625237476253%" headers="mcps1.3.4.3.2.5.1.1 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p10218504114623">value</p>
</td>
<td class="cellrowborder" valign="top" width="15.918408159184082%" headers="mcps1.3.4.3.2.5.1.2 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p22392532114623">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="15.648435156484354%" headers="mcps1.3.4.3.2.5.1.3 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_p1855771114623">String</p>
</td>
<td class="cellrowborder" valign="top" width="44.685531446855315%" headers="mcps1.3.4.3.2.5.1.4 "><p id="elb_zq_bq_0008__en-us_topic_0109852833_p1052616114195">Specifies the tag value.</p>
<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul17709124142210"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li1970982415225">Can contain a maximum of 43 characters.</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li270910242224">Can contain only the following character types:<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul670952492214"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li7709524182210">Uppercase letters</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li2070962413226">Lowercase letters</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li15709122402215">Digits</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li187097243229">Special characters, including hyphens (-) and underscores (_)</li></ul>
</li></ul>
</td>
</tr>
</tbody>
</table>


<h4 class="sectiontitle">Response</h4><p id="elb_zq_bq_0008__en-us_topic_0109852833_p1060115792011">None</p>

<h4 class="sectiontitle">Example Request</h4><ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul65351852102720"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li518562042414">Example request 1<pre class="screen" id="elb_zq_bq_0008__en-us_topic_0109852833_screen1691174992614">POST https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action

{
    "action": "create", 
    "tags": [
        {
            "key": "key1", 
            "value": "value1"
        }, 
        {
            "key": "key2", 
            "value": "value2"
        }
    ]
}</pre>
</li></ul>

<ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul5453124532720"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li145111324102819">Example request 2<pre class="screen" id="elb_zq_bq_0008__en-us_topic_0109852833_screen79751339142618">POST https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action

{
    "action": "delete", 
    "tags": [
        {
            "key": "key1", 
            "value": "value1"
        }, 
        {
            "key": "key2", 
            "value": "value2"
        }
    ]
}</pre>
</li></ul>
<h4 class="sectiontitle">Example Response</h4><ul id="elb_zq_bq_0008__en-us_topic_0109852833_ul197611211164816"><li id="elb_zq_bq_0008__en-us_topic_0109852833_li57611311184811">Example response 1<p id="elb_zq_bq_0008__en-us_topic_0109852833_p9761161174810"><a name="elb_zq_bq_0008__en-us_topic_0109852833_li57611311184811"></a><a name="en-us_topic_0109852833_li57611311184811"></a>None</p>
</li><li id="elb_zq_bq_0008__en-us_topic_0109852833_li576151114482">Example response 2<p id="elb_zq_bq_0008__en-us_topic_0109852833_p076181115489"><a name="elb_zq_bq_0008__en-us_topic_0109852833_li576151114482"></a><a name="en-us_topic_0109852833_li576151114482"></a>None</p>
</li></ul>

<h4 class="sectiontitle">Status Code</h4><p id="elb_zq_bq_0008__en-us_topic_0109852833_en-us_topic_0094115927_en-us_topic_0082414419_p30557388112958">For details, see <a href="elb_zq_bq_0013.html#elb_zq_bq_0013">Status Codes</a>.</p>




<strong>Parent topic:</strong> <a href="elb_zq_bq_0000.html">Tag</a>



