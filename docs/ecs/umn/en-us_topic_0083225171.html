<a name="EN-US_TOPIC_0083225171"></a><a name="EN-US_TOPIC_0083225171"></a>

<h1 class="topictitle1">How Can I Manually Configure an IP Address for an InfiniBand NIC?</h1>
<div id="body1510283958801"><p id="EN-US_TOPIC_0083225171__p3019800211201">IP over InfiniBand (IPoIB) allows IP data transmission over InfiniBand. For SUSE high-performance H2 and HL1 ECSs, if IPoIB is required, you must manually configure an IP address for the InfiniBand NIC after installing the InfiniBand NIC driver.</p>
<div class="section" id="EN-US_TOPIC_0083225171__section35761724112321"><h4 class="sectiontitle">Prerequisites</h4><p id="EN-US_TOPIC_0083225171__p18158599112323">The InfiniBand NIC driver has been installed on the high-performance H2 or HL1 ECSs.</p>
</div>
<div class="section" id="EN-US_TOPIC_0083225171__section42060912112551"><a name="EN-US_TOPIC_0083225171__section42060912112551"></a><a name="section42060912112551"></a><h4 class="sectiontitle">Background</h4><p id="EN-US_TOPIC_0083225171__p5917191611295">To prevent IP address conflict of the InfiniBand NICs configured for the ECSs of a tenant, determine the IP address to be configured for an InfiniBand NIC according to the IP addresses available in the VPC. The method is as follows:</p>
<p id="EN-US_TOPIC_0083225171__p4860352011262">For example, if the first two eight-bits of the IP address (specified by <strong id="EN-US_TOPIC_0083225171__b842352706121731">IPADDR</strong>) to be configured for the InfiniBand NIC are consistently <strong id="EN-US_TOPIC_0083225171__b842352706121816">169.254</strong>, the latter two eight-bits must be the same as those of the <strong id="EN-US_TOPIC_0083225171__b84235270612206">eth0</strong> IP address, and the subnet mask must be the same as that of the <strong id="EN-US_TOPIC_0083225171__b842352706122143">eth0</strong> NIC.</p>
<p id="EN-US_TOPIC_0083225171__p5376467011301">An example is provided as follows:</p>
<p id="EN-US_TOPIC_0083225171__p6072853411306">If the IP address of the <strong id="EN-US_TOPIC_0083225171__b1808415526122239">eth0</strong> NIC is 192.168.0.100/24, the IP address to be configured for the InfiniBand NIC is 169.254.0.100/24.</p>
</div>
<div class="section" id="EN-US_TOPIC_0083225171__section25685995112359"><h4 class="sectiontitle">Procedure</h4><ol id="EN-US_TOPIC_0083225171__ol2489643211230"><li id="EN-US_TOPIC_0083225171__li3774975011230">Log in to the ECS.</li><li id="EN-US_TOPIC_0083225171__li5341084711247">Run the following command to switch to user <strong id="EN-US_TOPIC_0083225171__b842352706163831">root</strong>:<p id="EN-US_TOPIC_0083225171__p27668262112430"><strong id="EN-US_TOPIC_0083225171__b18112463112435">sudo su -</strong></p>
</li><li id="EN-US_TOPIC_0083225171__li4821598112439">Run the following command to edit the <strong id="EN-US_TOPIC_0083225171__b842352706122351">/etc/sysconfig/network/ifcfg-ib0</strong> file:<p id="EN-US_TOPIC_0083225171__p30908827113255"><strong id="EN-US_TOPIC_0083225171__b66141077113253">vi  /etc/sysconfig/network/ifcfg-ib0</strong></p>
</li><li id="EN-US_TOPIC_0083225171__li3709309011334">Enter the following information:<p id="EN-US_TOPIC_0083225171__p36383032112745"><a name="EN-US_TOPIC_0083225171__li3709309011334"></a><a name="li3709309011334"></a><strong id="EN-US_TOPIC_0083225171__b59011835112745">DEVICE=ib0</strong></p>
<p id="EN-US_TOPIC_0083225171__p61344470112745"><strong id="EN-US_TOPIC_0083225171__b15229322112745">BOOTPROTO=static</strong></p>
<p id="EN-US_TOPIC_0083225171__p2846177112745"><strong id="EN-US_TOPIC_0083225171__b842352706122418">IPADDR=</strong><em id="EN-US_TOPIC_0083225171__i842352697122443">IP address to be configured for the InfiniBand NIC</em></p>
<p id="EN-US_TOPIC_0083225171__p61597251112745"><strong id="EN-US_TOPIC_0083225171__b1181262976122452">NETMASK=</strong><em id="EN-US_TOPIC_0083225171__i1571465550122455">Subnet mask</em></p>
<p id="EN-US_TOPIC_0083225171__p8566044112745"><strong id="EN-US_TOPIC_0083225171__b9985533112745">STARTMODE=auto</strong></p>
<div class="note" id="EN-US_TOPIC_0083225171__note6272880911357"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0083225171__p2768837411357">For instructions about how to obtain the IP address and subnet mask for an InfiniBand NIC, see <a href="#EN-US_TOPIC_0083225171__section42060912112551">Background</a>.</p>
</div></div>
</li><li id="EN-US_TOPIC_0083225171__li36953172112454">Run the following command to restart the network for the configuration to take effect:<p id="EN-US_TOPIC_0083225171__p8600432112518"><a name="EN-US_TOPIC_0083225171__li36953172112454"></a><a name="li36953172112454"></a><strong id="EN-US_TOPIC_0083225171__b47449819112516">service network restart</strong></p>
</li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0018124785.html">Network Configurations</a></div>
</div>
</div>

