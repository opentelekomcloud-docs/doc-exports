<a name="EN-US_TOPIC_0014250631"></a><a name="EN-US_TOPIC_0014250631"></a>

<h1 class="topictitle1">Creating a Key Pair</h1>
<div id="body1432782836438"><div class="section" id="EN-US_TOPIC_0014250631__section4859995204421"><h4 class="sectiontitle">Overview</h4><p id="EN-US_TOPIC_0014250631__p5237854719483">A key pair that consists of a public key and a private key is required for authentication when you log in to an ECS. Both the public and private keys are used for authentication. Therefore, you must use an existing key pair or create a new one for remote login authentication.</p>
<ul id="EN-US_TOPIC_0014250631__ul1480389919483"><li id="EN-US_TOPIC_0014250631__li91334411120">Creating a key pair<div class="p" id="EN-US_TOPIC_0014250631__p305358071120"><a name="EN-US_TOPIC_0014250631__li91334411120"></a><a name="li91334411120"></a>If no key pair is available, create one, in which the private key is used for login authentication. You can use either of the following methods to create a key pair:<ul id="EN-US_TOPIC_0014250631__ul4158767114307"><li id="EN-US_TOPIC_0014250631__li4071623014303">(Recommended) Create a key pair on the management console. After the creation, the public key is automatically stored in the system, and the private key is manually stored in a local directory. For details, see <a href="#EN-US_TOPIC_0014250631__section35336147204538">Creating a Key Pair on the Management Console</a>.</li><li id="EN-US_TOPIC_0014250631__li1054247214303">Create a key pair using <strong id="EN-US_TOPIC_0014250631__b104468217711">puttygen.exe</strong>. After the creation, both the public key and private key are stored locally. For details, see <a href="#EN-US_TOPIC_0014250631__section38463609165715">Creating a Key Pair Using puttygen.exe</a>. After the creation, import the key pair by following the instructions provided in <a href="#EN-US_TOPIC_0014250631__section62005706143441">Importing a Key Pair</a>. Then, the key pair can be used.</li></ul>
</div>
</li><li id="EN-US_TOPIC_0014250631__li5856373211153">Using an existing key pair<p id="EN-US_TOPIC_0014250631__p1397914811153"><a name="EN-US_TOPIC_0014250631__li5856373211153"></a><a name="li5856373211153"></a>If a key pair is available locally, for example, generated using PuTTYgen, you can import the public key on the management console so that the system maintains the public key file. For details, see <a href="#EN-US_TOPIC_0014250631__section62005706143441">Importing a Key Pair</a>.</p>
<div class="note" id="EN-US_TOPIC_0014250631__note34429373192252"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p45841647192116">If the public key of the existing key pair is stored by clicking <strong id="EN-US_TOPIC_0014250631__b1868201019376">Save public key</strong> of <strong id="EN-US_TOPIC_0014250631__b12687510203715">puttygen.exe</strong>, the public key cannot be imported to the management console.</p>
<p id="EN-US_TOPIC_0014250631__p41428907192252">If this key pair must be used for remote authentication, see <a href="en-us_topic_0047654687.html">Why Does a Key Pair Created Using puttygen.exe Fail to Be Imported on the Management Console?</a></p>
</div></div>
</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0014250631__section57670118165256"><h4 class="sectiontitle">Constraints</h4><ul id="EN-US_TOPIC_0014250631__ul39416956165437"><li id="EN-US_TOPIC_0014250631__li5399140114047">ECSs support the following encryption algorithms:<ul id="EN-US_TOPIC_0014250631__ul6846097114050"><li id="EN-US_TOPIC_0014250631__li11916496165437">SSH-2 (RSA, 1024)</li><li id="EN-US_TOPIC_0014250631__li2309142165437">SSH-2 (RSA, 2048)</li><li id="EN-US_TOPIC_0014250631__li1825470192156">SSH-2 (RSA, 4096)</li></ul>
</li><li id="EN-US_TOPIC_0014250631__li3163843411410">The private key is one of the most important functions for protecting your <span id="EN-US_TOPIC_0014250631__text06652334361">ECS</span> during remote login. Save the private key to your local directory and keep it secure. The private key can be downloaded only once.</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0014250631__section35336147204538"><a name="EN-US_TOPIC_0014250631__section35336147204538"></a><a name="section35336147204538"></a><h4 class="sectiontitle">Creating a Key Pair on the Management Console</h4><ol id="EN-US_TOPIC_0014250631__ol1373281010048"><li id="EN-US_TOPIC_0014250631__li3490190117228">Log in to the management console.</li><li id="EN-US_TOPIC_0014250631__li0975135720214">Click <span><img id="EN-US_TOPIC_0014250631__image1862675853202121" src="en-us_image_0210779229.png"></span> in the upper left corner and select your region and project.</li><li id="EN-US_TOPIC_0014250631__li3861581410048">Under <strong id="EN-US_TOPIC_0014250631__b57131714203614"><span id="EN-US_TOPIC_0014250631__text170715142360">Computing</span></strong>, click <strong id="EN-US_TOPIC_0014250631__b1271351416367">Elastic Cloud Server</strong>.</li><li id="EN-US_TOPIC_0014250631__li1199800610048">In the navigation pane on the left, choose <strong id="EN-US_TOPIC_0014250631__b529216685349">Key Pair</strong>.</li><li id="EN-US_TOPIC_0014250631__li4087319010048">On the right side of the page, click <strong>Create Key Pair</strong>.</li><li id="EN-US_TOPIC_0014250631__li3231439110048">Enter the key name and click <strong id="EN-US_TOPIC_0014250631__b842352706111745">OK</strong>.<p id="EN-US_TOPIC_0014250631__p1740111712710">An automatically allocated key name consists of <strong id="EN-US_TOPIC_0014250631__b842352706111821">KeyPair-</strong> and a 4-digit random number. Change it to an easy-to-remember one, for example, <strong id="EN-US_TOPIC_0014250631__b842352706111955">KeyPair-xxxx_ecs</strong>.</p>
</li><li id="EN-US_TOPIC_0014250631__li22000910048">Manually or automatically download the private key file. The file name is the specified key pair name with a suffix of .pem. Securely store the private key file. In the displayed dialog box, click <strong id="EN-US_TOPIC_0014250631__b1734242054153732">OK</strong>.<div class="note" id="EN-US_TOPIC_0014250631__note118145116483"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p158141810481">This is the only opportunity for you to save the private key file. Keep it secure. When creating an <span id="EN-US_TOPIC_0014250631__text202771223103810">ECS</span>, provide the name of your desired key pair. Each time you log in to the <span id="EN-US_TOPIC_0014250631__text12825232383">ECS</span> using SSH, provide the private key.</p>
</div></div>
</li></ol>
</div>
<div class="section" id="EN-US_TOPIC_0014250631__section38463609165715"><a name="EN-US_TOPIC_0014250631__section38463609165715"></a><a name="section38463609165715"></a><h4 class="sectiontitle">Creating a Key Pair Using <strong id="EN-US_TOPIC_0014250631__b1274453433161744">puttygen.exe</strong></h4><ol id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_ol1236320615580"><li id="EN-US_TOPIC_0014250631__li2796152434413"><span>Download and install PuTTY and PuTTYgen.</span><p><p id="EN-US_TOPIC_0014250631__p1679692494411"><a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" target="_blank" rel="noopener noreferrer">https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</a></p>
<div class="note" id="EN-US_TOPIC_0014250631__note45922157111724"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p10646236111724">PuTTYgen is a key generator, which is used to create a key pair that consists of a public key and a private key for PuTTY.</p>
</div></div>
</p></li><li id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_li14408360155813"><span>Obtain the public and private keys.</span><p><ol type="a" id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_ol25604984155818"><li id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_li149523815580">Double-click <strong id="EN-US_TOPIC_0014250631__b842352706202157">puttygen.exe</strong> to switch to the <strong id="EN-US_TOPIC_0014250631__b842352706202217">PuTTY Key Generator</strong> page.<div class="fignone" id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_fig4490538015580"><span class="figcap"><b>Figure 1 </b>PuTTY Key Generator</span><br><span><img id="EN-US_TOPIC_0014250631__image1085155834213" src="en-us_image_0272917695.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_li5400542415580">Click <strong id="EN-US_TOPIC_0014250631__b842352706202244">Generate</strong>.<p id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_p1345714315580">The key generator automatically generates a key pair that consists of a public key and a private key. The public key is shown in the red box in <a href="#EN-US_TOPIC_0014250631__en-us_topic_0037960038_fig4678746517750">Figure 2</a>.</p>
<div class="fignone" id="EN-US_TOPIC_0014250631__en-us_topic_0037960038_fig4678746517750"><a name="EN-US_TOPIC_0014250631__en-us_topic_0037960038_fig4678746517750"></a><a name="en-us_topic_0037960038_fig4678746517750"></a><span class="figcap"><b>Figure 2 </b>Obtaining the public and private keys</span><br><span><img id="EN-US_TOPIC_0014250631__image17566352204514" src="en-us_image_0272919399.png"></span></div>
</li></ol>
</p></li><li id="EN-US_TOPIC_0014250631__li24584709151818"><a name="EN-US_TOPIC_0014250631__li24584709151818"></a><a name="li24584709151818"></a><span>Copy the public key content to a .txt file and save the file in a local directory.</span><p><div class="note" id="EN-US_TOPIC_0014250631__note31016447113457"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p4928242511355">Do not save the public key by clicking <strong id="EN-US_TOPIC_0014250631__b842352706202716">Save public key</strong>. Storing a public key by clicking <strong id="EN-US_TOPIC_0014250631__b610903815387">Save public key</strong> of <strong id="EN-US_TOPIC_0014250631__b91136381385">puttygen.exe</strong> will change the format of the public key content. Such a key cannot be imported to the management console.</p>
</div></div>
</p></li><li id="EN-US_TOPIC_0014250631__li428232215217"><span>Save the private key and keep it secure. The private key can be downloaded only once.</span><p><p id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_p14390612143442">The format in which to save your private key varies depending on application scenarios:</p>
<ul id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_ul484510143442"><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li18866571143442">Saving the private key in .ppk format<div class="p" id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_p61748609143442"><a name="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li18866571143442"></a><a name="en-us_topic_0014250631_li18866571143442"></a>When you are required to log in to a Linux <span id="EN-US_TOPIC_0014250631__text5829165813815">ECS</span> using PuTTY, you must use the .ppk private key. To save the private key in .ppk format, perform the following operations:<ol type="a" id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_ol21774037143442"><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li62406652143442">On the <strong id="EN-US_TOPIC_0014250631__b842352706204219">PuTTY Key Generator</strong> page, choose <strong id="EN-US_TOPIC_0014250631__b842352706163532">File</strong> &gt; <strong id="EN-US_TOPIC_0014250631__b842352706204231">Save private key</strong>.<div class="fignone" id="EN-US_TOPIC_0014250631__fig1031955919299"><span class="figcap"><b>Figure 3 </b>Save private key</span><br><span><img id="EN-US_TOPIC_0014250631__image1836618020521" src="en-us_image_0276033982.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li24788958143442">Save the converted private key, for example, <strong>kp-123.ppk</strong>, in a local directory.</li></ol>
</div>
</li><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li22423455143442">Saving the private key in .pem format<div class="p" id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_p2491495143442"><a name="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li22423455143442"></a><a name="en-us_topic_0014250631_li22423455143442"></a>When you are required to log in to a Linux <span id="EN-US_TOPIC_0014250631__text81081319203912">ECS</span> using Xshell or attempt to obtain the password for logging in to a Windows <span id="EN-US_TOPIC_0014250631__text511371963911">ECS</span>, you must use the .pem private key for authentication. To save the private key in .pem format, perform the following operations:<ol type="a" id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_ol45016075143442"><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li63522095143442">Choose <strong id="EN-US_TOPIC_0014250631__b842352706204526">Conversions</strong> &gt; <strong id="EN-US_TOPIC_0014250631__b842352706204529">Export OpenSSH key</strong>.<div class="note" id="EN-US_TOPIC_0014250631__note101379875915"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p0137118165910">If you use this private file to obtain the password for logging in to a Windows <span id="EN-US_TOPIC_0014250631__text22401225153918">ECS</span>, when you choose <strong id="EN-US_TOPIC_0014250631__b924592520394">Export OpenSSH key</strong>, do not configure <strong id="EN-US_TOPIC_0014250631__b1624592516399">Key passphrase</strong>. Otherwise, obtaining the password will fail.</p>
</div></div>
<div class="fignone" id="EN-US_TOPIC_0014250631__fig15752222153016"><span class="figcap"><b>Figure 4 </b>Export OpenSSH key</span><br><span><img id="EN-US_TOPIC_0014250631__image14824133144713" src="en-us_image_0272919409.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_li34827947143442">Save the private key, for example, <strong>kp-123.pem</strong>, in a local directory.</li></ol>
</div>
</li></ul>
</p></li><li id="EN-US_TOPIC_0014250631__li48664209151053"><span>Import the public key to the system. For details, see "Copying the public key content" in <a href="#EN-US_TOPIC_0014250631__section62005706143441">Importing a Key Pair</a>.</span></li></ol>
</div>
<div class="section" id="EN-US_TOPIC_0014250631__section62005706143441"><a name="EN-US_TOPIC_0014250631__section62005706143441"></a><a name="section62005706143441"></a><h4 class="sectiontitle">Importing a Key Pair</h4><p id="EN-US_TOPIC_0014250631__p1114017312139">If you store a public key by clicking <strong id="EN-US_TOPIC_0014250631__b26562066164826">Save public key</strong> of <strong id="EN-US_TOPIC_0014250631__b37732003164826">puttygen.exe</strong>, the format of the public key content will change. Such a key cannot be imported to the management console. To resolve this issue, obtain the public key content in correct format and import the content to the management console. For details, see <a href="en-us_topic_0047654687.html">Why Does a Key Pair Created Using puttygen.exe Fail to Be Imported on the Management Console?</a></p>
<ol id="EN-US_TOPIC_0014250631__ol49887931143442"><li id="EN-US_TOPIC_0014250631__li4261248104818">Log in to the management console.</li><li id="EN-US_TOPIC_0014250631__li464234814566">Click <span><img id="EN-US_TOPIC_0014250631__en-us_topic_0014250631_image1862675853202121" src="en-us_image_0210779229.png"></span> in the upper left corner and select your region and project.</li><li id="EN-US_TOPIC_0014250631__li44979101143442">Under <strong id="EN-US_TOPIC_0014250631__b74181224203614"><span id="EN-US_TOPIC_0014250631__text241212473617">Computing</span></strong>, click <strong id="EN-US_TOPIC_0014250631__b20419142493611">Elastic Cloud Server</strong>.</li><li id="EN-US_TOPIC_0014250631__li2158728143442">In the navigation pane on the left, choose <strong id="EN-US_TOPIC_0014250631__b603973981">Key Pair</strong>.</li><li id="EN-US_TOPIC_0014250631__li32291957143442">On the right side of the page, click <strong id="EN-US_TOPIC_0014250631__b1997011165238">Import Key Pair</strong>.<div class="fignone" id="EN-US_TOPIC_0014250631__fig30209536143442"><span class="figcap"><b>Figure 5 </b>Import Key Pair</span><br><span><img id="EN-US_TOPIC_0014250631__image154212135343" src="en-us_image_0037980515.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0014250631__li37898602143442">Use either of the following methods to import the key pair:<ul id="EN-US_TOPIC_0014250631__ul4210955143442"><li id="EN-US_TOPIC_0014250631__li57034482143442">Selecting a file<ol type="a" id="EN-US_TOPIC_0014250631__ol1214990115226"><li id="EN-US_TOPIC_0014250631__li2371687115226">On the <strong id="EN-US_TOPIC_0014250631__b842352706112651">Import Key Pair</strong> page of the management console, click <strong id="EN-US_TOPIC_0014250631__b842352706112725">Select File</strong> and select the local public key file, for example, the .txt file saved in <a href="#EN-US_TOPIC_0014250631__li24584709151818">3</a>.<div class="note" id="EN-US_TOPIC_0014250631__note2825014412158"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0014250631__p5292471112158">When importing a key pair, ensure that the public key is imported. Otherwise, the importing will fail.</p>
</div></div>
</li><li id="EN-US_TOPIC_0014250631__li36968064152326">Click <strong id="EN-US_TOPIC_0014250631__b842352706162957">OK</strong>.<p id="EN-US_TOPIC_0014250631__p53154419152328">After the public key is imported, you can change its name.</p>
</li></ol>
</li><li id="EN-US_TOPIC_0014250631__li37750586143442">Copying the public key content<ol type="a" id="EN-US_TOPIC_0014250631__ol13914245152430"><li id="EN-US_TOPIC_0014250631__li64384119152430">Copy the content of the public key in .txt file into the <strong id="EN-US_TOPIC_0014250631__b1789216345163526">Public Key Content</strong> text box.</li><li id="EN-US_TOPIC_0014250631__li41017523152430">Click <strong id="EN-US_TOPIC_0014250631__b1395011615">OK</strong>.</li></ol>
</li></ul>
</li></ol>
</div>
<div class="section" id="EN-US_TOPIC_0014250631__section6289800511384"><h4 class="sectiontitle">Helpful Links</h4><ul id="EN-US_TOPIC_0014250631__ul62571473163353"><li id="EN-US_TOPIC_0014250631__li24752671163353"><a href="en-us_topic_0019883415.html">What Should I Do If a Key Pair Cannot Be Imported?</a></li><li id="EN-US_TOPIC_0014250631__li65934068163353"><a href="en-us_topic_0047654687.html">Why Does a Key Pair Created Using puttygen.exe Fail to Be Imported on the Management Console?</a></li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0140313881.html">Passwords and Key Pairs</a></div>
</div>
</div>


<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script>