<a name="EN-US_TOPIC_0094801708"></a><a name="EN-US_TOPIC_0094801708"></a>

<h1 class="topictitle1">What Can I Do If Switching from a Non-root User to User root Times Out?</h1>
<div id="body1517049675996"><div class="section" id="EN-US_TOPIC_0094801708__section174441551144120"><h4 class="sectiontitle">Symptom</h4><p id="EN-US_TOPIC_0094801708__p13531853204114">When you run the <strong id="EN-US_TOPIC_0094801708__b842352706155457">sudo</strong> command to switch to user <strong id="EN-US_TOPIC_0094801708__b842352706155521">root</strong> on an Ubuntu or Debian ECS, the system prompts connection timeout.</p>
<div class="fignone" id="EN-US_TOPIC_0094801708__fig727412824411"><span class="figcap"><b>Figure 1 </b>Connection timeout</span><br><span><img id="EN-US_TOPIC_0094801708__image13274188144419" src="en-us_image_0094801740.png" title="Click to enlarge" class="imgResize"></span></div>
</div>
<div class="section" id="EN-US_TOPIC_0094801708__section1933384114410"><h4 class="sectiontitle">Solution</h4><ol id="EN-US_TOPIC_0094801708__ol895955294517"><li id="EN-US_TOPIC_0094801708__li6136142114615">Log in to the ECS.</li><li id="EN-US_TOPIC_0094801708__li53098502101927">Run the following command to edit the hosts configuration file:<p id="EN-US_TOPIC_0094801708__p13194383102015"><a name="EN-US_TOPIC_0094801708__li53098502101927"></a><a name="li53098502101927"></a><strong id="EN-US_TOPIC_0094801708__b54906486102018">vi /etc/hosts</strong></p>
</li><li id="EN-US_TOPIC_0094801708__li38588055102022">Press <strong>i</strong> to enter editing mode.</li><li id="EN-US_TOPIC_0094801708__li56620583102034">Add the IP address and hostname to the last line of the hosts configuration file.<p id="EN-US_TOPIC_0094801708__p19475431102136"><a name="EN-US_TOPIC_0094801708__li56620583102034"></a><a name="li56620583102034"></a><em id="EN-US_TOPIC_0094801708__i842352697151839">Private IP address hostname</em></p>
<p id="EN-US_TOPIC_0094801708__p155944910222">An example is provided as follows:</p>
<p id="EN-US_TOPIC_0094801708__p5380579410224">If the ECS hostname is <strong id="EN-US_TOPIC_0094801708__b842352706164923">hostname</strong> and the private IP address of the ECS is 192.168.0.1, add the following statement:</p>
<p id="EN-US_TOPIC_0094801708__p24320870102533">192.168.0.1 hostname</p>
</li><li id="EN-US_TOPIC_0094801708__li5695172510266">Press <strong id="EN-US_TOPIC_0094801708__b28803554191533">Esc</strong> to exit editing mode.</li><li id="EN-US_TOPIC_0094801708__li64061240102622">Run the following command to save the configuration and exit:<p id="EN-US_TOPIC_0094801708__p38578715102646"><a name="EN-US_TOPIC_0094801708__li64061240102622"></a><a name="li64061240102622"></a><strong id="EN-US_TOPIC_0094801708__b12549253102648">:wq</strong></p>
</li></ol>
<div class="note" id="EN-US_TOPIC_0094801708__note188742774915"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0094801708__p1588832710498">To update the hostname of an Ubuntu or Debian ECS, set the value of parameter <strong id="EN-US_TOPIC_0094801708__b84235270616228">manage_etc_hosts</strong> in the <strong id="EN-US_TOPIC_0094801708__b84235270616241">/etc/cloud/cloud.cfg</strong> file to <strong id="EN-US_TOPIC_0094801708__b84235270616249">false</strong> and update the new hostname in the <strong id="EN-US_TOPIC_0094801708__b84235270616313">/etc/hosts</strong> file. When editing the <strong id="EN-US_TOPIC_0094801708__b84235270616327">/etc/hosts</strong> file, do not delete the statement in the line where <strong id="EN-US_TOPIC_0094801708__b84235270616341">127.0.0.1</strong> is located. Otherwise, switching from a non-root user to user <strong id="EN-US_TOPIC_0094801708__b84235270616415">root</strong> will time out.</p>
</div></div>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0096170524.html">Troubleshooting</a></div>
</div>
</div>


<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script>