<a name="EN-US_TOPIC_0240708483"></a><a name="EN-US_TOPIC_0240708483"></a>

<h1 class="topictitle1">What Should I Do If Error Message "Permission denied" Is Displayed When I Remotely Log In to a Linux <span id="text171884135220">ECS</span>?</h1>
<div id="body1587693768425"><div class="section" id="EN-US_TOPIC_0240708483__section118312613216"><h4 class="sectiontitle">Symptom</h4><p id="EN-US_TOPIC_0240708483__p10616143120711">When I attempted to remotely log in to a Linux <span id="EN-US_TOPIC_0240708483__text17186559377">ECS</span>, the system displayed error Message "Permission denied".</p>
<div class="fignone" id="EN-US_TOPIC_0240708483__fig5631046188"><span class="figcap"><b>Figure 1 </b>Permission denied</span><br><span><img id="EN-US_TOPIC_0240708483__image79724330321" src="en-us_image_0240710556.png"></span></div>
<div class="note" id="EN-US_TOPIC_0240708483__note16966152911612"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TOPIC_0240708483__ul758014561146"><li id="EN-US_TOPIC_0240708483__li4581185631418">To resolve this issue, you are required to restart the ECS and enter the rescue mode.</li><li id="EN-US_TOPIC_0240708483__li1258120563148">Restarting the <span id="EN-US_TOPIC_0240708483__text155184133819">ECS</span> may interrupt services. Exercise caution when performing this operation.</li></ul>
</div></div>
</div>
<div class="section" id="EN-US_TOPIC_0240708483__section1851618545810"><h4 class="sectiontitle">Root Cause</h4><p id="EN-US_TOPIC_0240708483__p1100111619103">The <strong id="EN-US_TOPIC_0240708483__b1017818153468">nofile</strong> parameter in <strong id="EN-US_TOPIC_0240708483__b14561538184619">/etc/security/limits.conf</strong> is used to set the maximum number of files that can be opened in the system. If the value is greater than the <strong id="EN-US_TOPIC_0240708483__b1322710366586">fs.nr_open</strong> value (<strong id="EN-US_TOPIC_0240708483__b1718125585813">1048576</strong> by default) set in <strong id="EN-US_TOPIC_0240708483__b624572519590">PermissionDenied.png</strong>, a login verification error will occur, leading to "Permission denied".</p>
</div>
<div class="section" id="EN-US_TOPIC_0240708483__section1347415381218"><h4 class="sectiontitle">Solution</h4><ol id="EN-US_TOPIC_0240708483__ol143131304288"><li id="EN-US_TOPIC_0240708483__li123131730162816">Enter the single-user mode.<div class="p" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_p54908381882"><a name="EN-US_TOPIC_0240708483__li123131730162816"></a><a name="li123131730162816"></a>The following uses CentOS 7 as an example:<ol type="a" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_ol18761251883"><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li48759255819">Restart the <span id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_text6216550450">ECS</span> and click <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b037492515210">Remote Login</strong>.</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li521915281994">Click <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b764216153111">Ctrl+Alt+Del</strong> in the upper part of the remote login panel to restart the ECS.</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li187632520815">Press the up arrow key to prevent automatic system startup. When the kernels are displayed, press <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b1394375224510">e</strong> to enter the editing mode.<div class="fignone" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_fig1087511256811"><span class="figcap"><b>Figure 2 </b>Entering the kernel editing mode</span><br><span><img id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_image1687511251988" src="en-us_image_0240711431.png" title="Click to enlarge" class="imgResize"></span></div>
<div class="note" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_note2876172514820"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_p287612251480">The grub file is encrypted by Euler images by default. Before entering the edit mode, you need to contact customer service to obtain username and password.</p>
</div></div>
</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li2912323201016">Locate the row containing <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b128050179555">linux16</strong> and delete the parameters you do not require.</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li55402210504">Change <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b16718172520581">ro</strong> to <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b2723625105812">rw</strong> for mounting the root partition with read-write permissions.</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li7708662503">Add <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b205601453175814">rd.break</strong> and press <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b756615312588">Ctrl+X</strong>.<div class="fignone" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_fig1654418212503"><span class="figcap"><b>Figure 3 </b>Before the modification</span><br><span><img id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_image3544422500" src="en-us_image_0260575520.png" title="Click to enlarge" class="imgResize"></span></div>
<div class="fignone" id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_fig1954412105016"><span class="figcap"><b>Figure 4 </b>After the modification</span><br><span><img id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_image554414275018" src="en-us_image_0260575521.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_li1457059144112">Run the following command to go to the <strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b1317583413547">/sysroot</strong> directory:<p id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_p9457161015412"><strong id="EN-US_TOPIC_0240708483__en-us_topic_0240708482_b7497658163515"># chroot /sysroot</strong></p>
</li></ol>
</div>
</li></ol><ol start="2" id="EN-US_TOPIC_0240708483__ol1037994193311"><li id="EN-US_TOPIC_0240708483__li12380124143314"><a name="EN-US_TOPIC_0240708483__li12380124143314"></a><a name="li12380124143314"></a>Run the following command to view the <strong id="EN-US_TOPIC_0240708483__b661615213118">fs.nr_open</strong> value:<p id="EN-US_TOPIC_0240708483__p1921832473319"><strong id="EN-US_TOPIC_0240708483__b14301164313162">sysctl fs.nr_open</strong></p>
</li><li id="EN-US_TOPIC_0240708483__li53808418335">Change the <strong id="EN-US_TOPIC_0240708483__b146155613210">nofile</strong> value in <strong id="EN-US_TOPIC_0240708483__b1569561528">/etc/security/limits.conf</strong> so that the value is smaller than the <strong id="EN-US_TOPIC_0240708483__b2094255532">fs.nr_open</strong> value obtained in <a href="#EN-US_TOPIC_0240708483__li12380124143314">2</a>.<div class="p" id="EN-US_TOPIC_0240708483__p1158162520162"><strong id="EN-US_TOPIC_0240708483__b194129317164">vi /etc/security/limits.conf</strong><div class="note" id="EN-US_TOPIC_0240708483__note16362112212167"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0240708483__p1236272211614"><strong id="EN-US_TOPIC_0240708483__b1121914414515">limits.conf</strong> is the <strong id="EN-US_TOPIC_0240708483__b044261613519">pam_limits.so</strong> configuration file of Linux Pluggable Authentication Module (PAM). For more details, run the following command:</p>
<p id="EN-US_TOPIC_0240708483__p19362322201611"><strong id="EN-US_TOPIC_0240708483__b203628229161">man limits.conf</strong></p>
</div></div>
</div>
</li><li id="EN-US_TOPIC_0240708483__li8380154193318">Restart the <span id="EN-US_TOPIC_0240708483__text45464918113">ECS</span> and try to log in to it again.</li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0030930807.html">Login and Connection</a></div>
</div>
</div>


<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script>