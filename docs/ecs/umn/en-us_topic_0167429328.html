<a name="EN-US_TOPIC_0167429328"></a><a name="EN-US_TOPIC_0167429328"></a>

<h1 class="topictitle1">Why Is My Windows ECS Running Slowly?</h1>
<div id="body8662426"><p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p1157162010416">If your Windows <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text1452521015172">ECS</span> runs slowly or is inaccessible unexpectedly, the bandwidth or vCPU usage of the <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text1386501310179">ECS</span> may be excessively high. If you have created an alarm rule using Cloud Eye, the system automatically sends an alarm to you when the bandwidth or CPU usage reaches the threshold specified in the rule.</p>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p71988181313">To handle this issue, perform the following operations:</p>
<ol id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol13927114215613"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li8627147336">Fault locating<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p14824114153310"><a name="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li8627147336"></a><a name="en-us_topic_0166311836_li8627147336"></a>Identify the processes leading to high bandwidth or CPU usage.</p>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p520932132220">Windows offer multiple tools to locate faults, including Task Manager, Performance Monitor, Resource Monitor, Process Explorer, Xperf (supported by versions later than Windows Server 2008), and full memory dump analysis. </p>
</li></ol><ol start="2" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol1032664618612"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1353115497329">Troubleshooting<div class="p" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p136181250163212"><a name="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1353115497329"></a><a name="en-us_topic_0166311836_li1353115497329"></a>Check whether the processes are malicious and handle the issue accordingly.<ul id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ul15198318834"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li16198171815315">If the processes are not malicious, optimize them or modify <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text42299348269">ECS</span> specifications.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li219841817313">If the processes are malicious, stop these processes manually or use a third-party tool to stop them automatically.</li></ul>
</div>
</li></ol>
<div class="section" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_section4635182415243"><h4 class="sectiontitle">Fault Locating</h4><ol id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol1651051719292"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li32571315329">Log in to the <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text197247453266">ECS</span> using VNC available on the management console.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li95101317142916">Start the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b6635182912711">Run</strong> dialog box, and then enter <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b126359297710">perfmon -res</strong>.<div class="fignone" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_fig18932134871212"><span class="figcap"><b>Figure 1 </b>Starting the Resource Monitor</span><br><span><img id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_image2083675412810" src="en-us_image_0281771106.png"></span></div>
</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li145137290417">On the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b842352706181914">Resource Monitor</strong> page, click the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b842352706181925">CPU</strong> or <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b842352706181928">Network</strong> tab to view the CPU or bandwidth usage.<div class="fignone" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_fig42857506323"><span class="figcap"><b>Figure 2 </b>Resource Monitor</span><br><span><img id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_image72272313912" src="en-us_image_0281773972.png" title="Click to enlarge" class="imgResize"></span></div>
</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li131213525457">Obtain the IDs and names of the processes with high CPU or bandwidth usage.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1058095234710">On the remote login page, click <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b250519301919">Ctrl+Alt+Del</strong> to start the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b017625631114">Windows Task Manager</strong>.<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p755678143510">Alternatively, start the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b17658591114">Run</strong> dialog box and enter <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b15689519161119">taskmgr</strong> to start the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b112027310127">Windows Task Manager</strong>.</p>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p1472114143511">The following describes how to display PIDs in <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b1455523615253">Windows Task Manager</strong>, locate a process, and check whether it is malicious.</p>
<ol type="a" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol197212048353"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1172124193513">Click the <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b167710282568">Details</strong> tab.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li97211433510">Click <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b289145757183213">PID</strong> to sort the data.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li07210417356">Right-click the process with high CPU or bandwidth usage and choose <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b84235270618337">Open File Location</strong> from the shortcut menu.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li127211443519">Check whether the process is malicious.<div class="fignone" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_fig138318464320"><span class="figcap"><b>Figure 3 </b>Checking the process</span><br><span><img id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_image6327519424" src="en-us_image_0281775402.png" title="Click to enlarge" class="imgResize"></span></div>
</li></ol>
</li></ol>
</div>
<div class="section" id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_section1379790191116"><h4 class="sectiontitle">Troubleshooting</h4><p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p191321858115">Before the troubleshooting, check whether the process leading to the high CPU or bandwidth usage is malicious, and then take measures accordingly.</p>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p17462151015124"><strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b842352706184245">Suggestions for non-malicious processes</strong></p>
<ol id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol2781172510"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li7719162512">If your ECS runs Windows Server 2008 or 2012, ensure that the available memory is 2 GB or larger.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li149949614266">Check whether Windows Update is running on the backend.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1154744010291">Check whether the antivirus software is running scan tasks on the backend.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li187347610318">Check whether any applications requiring high CPU or bandwidth are running on the <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text0015092719">ECS</span>. If so, modify <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text1978968162715">ECS</span> specifications or enlarge bandwidth.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1363894512017">If the <span id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_text0358163319170">ECS</span> configuration meets the application requirements, deploy applications separately. For example, deploy the database and applications separately.</li></ol>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p68437493011"><strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b961236747">Suggestions for malicious processes</strong></p>
<p id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_p1620651704">If the high CPU or bandwidth usage is caused by viruses or Trojan horses, manually stop the affected processes. You are advised to troubleshoot the issue as follows:</p>
<ol id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_ol106301532236"><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li131203321441">Use the commercial-edition antivirus software or install <a href="https://docs.microsoft.com/en-us/windows/security/threat-protection/intelligence/safety-scanner-download?spm=a2c4g.11186623.2.22.3fe9671c4mJYXV" target="_blank" rel="noopener noreferrer">Microsoft Safety Scanner</a> to scan for viruses in security mode.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li10526438957">Install the latest patches for Windows.</li><li id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_li1476665719614">Run <strong id="EN-US_TOPIC_0167429328__en-us_topic_0166311836_b111601242132113">MSconfig</strong> to disable all drivers that are not delivered with Microsoft and check whether the fault is rectified. For details, see <a href="https://support.microsoft.com/en-us/help/929135/how-to-perform-a-clean-boot-in-windows?spm=a2c4g.11186623.2.23.3fe9671c4mJYXV" target="_blank" rel="noopener noreferrer">How to perform a clean boot in Windows</a>.</li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0208809316.html">Resource Monitoring</a></div>
</div>
</div>


<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script>