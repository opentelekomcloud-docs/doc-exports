<a name="EN-US_TOPIC_0048642616"></a><a name="EN-US_TOPIC_0048642616"></a>

<h1 class="topictitle1">Cloud-Init</h1>
<div id="body1487147188799"><p id="EN-US_TOPIC_0048642616__p24907765162841">Cloud-Init is an open-source cloud initialization program, which initializes some of the customized configurations of a newly created <span id="EN-US_TOPIC_0048642616__text169521139133911">ECS</span>, such as the hostname, key pair, and user data.</p>
<p id="EN-US_TOPIC_0048642616__p28807954171256">All standard (Standard_xxx) and enterprise (Enterprise_xxx) images support Cloud-Init. Only certain community images (Community_xxx) do not support it.</p>
<p id="EN-US_TOPIC_0048642616__p61388894444">Using Cloud-Init to initialize your <span id="EN-US_TOPIC_0048642616__text995012410423">ECS</span>s will affect your <span id="EN-US_TOPIC_0048642616__text823920531281">ECS</span>, IMS, and AS services.</p>
<div class="section" id="EN-US_TOPIC_0048642616__section1150469610136"><h4 class="sectiontitle">Impact on IMS</h4><p id="EN-US_TOPIC_0048642616__p19778043173734">To ensure that <span id="EN-US_TOPIC_0048642616__text988919911421">ECS</span>s created using a private image support customized configurations, you must install Cloud-Init or Cloudbase-Init on the <span id="EN-US_TOPIC_0048642616__text2526249418">ECS</span>s before using them to create private images.</p>
<ul id="EN-US_TOPIC_0048642616__ul46952306173918"><li id="EN-US_TOPIC_0048642616__li36111246173918">For Windows OSs, download and install Cloudbase-Init.</li><li id="EN-US_TOPIC_0048642616__li31598379173918">For Linux OSs, download and install Cloud-Init.</li></ul>
<p id="EN-US_TOPIC_0048642616__p9773181454916">After Cloud-Init or Cloudbase-Init is installed in an image, Cloud-Init or Cloudbase-Init automatically configures initial attributes for the <span id="EN-US_TOPIC_0048642616__text1114712294">ECS</span>s created using this image.</p>
<p id="EN-US_TOPIC_0048642616__p23919191171848">For more information, see <em id="EN-US_TOPIC_0048642616__i8423526979632">Image Management Service User Guide</em>.</p>
</div>
<div class="section" id="EN-US_TOPIC_0048642616__section2746706105950"><h4 class="sectiontitle">Impact on <span id="EN-US_TOPIC_0048642616__text1789415428342">ECS</span></h4><ul id="EN-US_TOPIC_0048642616__ul2000904310113"><li id="EN-US_TOPIC_0048642616__li4158057911579">When creating an <span id="EN-US_TOPIC_0048642616__text128818191429">ECS</span>, if the selected image supports Cloud-Init, you can use the <strong id="EN-US_TOPIC_0048642616__b0450143011233">User Data</strong> function to specify custom configuration, such as <span id="EN-US_TOPIC_0048642616__text12574123817301">ECS</span> login password to the <span id="EN-US_TOPIC_0048642616__text10228125710911">ECS</span>. Such custom settings will take effect upon <span id="EN-US_TOPIC_0048642616__text1435771541017">ECS</span> initialization. <a href="en-us_topic_0032380449.html">Passing User Data to ECSs</a>For details, see <a href="en-us_topic_0032380449.html">Passing User Data to ECSs</a>.</li><li id="EN-US_TOPIC_0048642616__li4924709610430">If Cloud-Init is supported, ECSs do not support password authentication anymore. All newly created ECSs use key pair authentication. This change will influence your ECS logins. For details, see the following sections:<ul id="EN-US_TOPIC_0048642616__ul19415265103937"><li id="EN-US_TOPIC_0048642616__li42939148103759"><a href="en-us_topic_0013771089.html">Login Overview</a></li><li id="EN-US_TOPIC_0048642616__li24750406103813"><a href="en-us_topic_0037633087.html">What Is the cloudbase-init Account in Windows ECSs Used for?</a></li><li id="EN-US_TOPIC_0048642616__li61757858104056"><a href="en-us_topic_0031734664.html">Why Does the Login to My Linux ECS Using a Key File Fail?</a></li><li id="EN-US_TOPIC_0048642616__li12097450103839"><a href="en-us_topic_0031736846.html">Why Does the System Display a Message Indicating that the Password for Logging In to a Windows ECS Cannot Be Viewed?</a></li></ul>
</li><li id="EN-US_TOPIC_0048642616__li25296237101910">If Cloud-Init is supported, you can view and use metadata to configure and manage running <span id="EN-US_TOPIC_0048642616__text14752153254217">ECS</span>s. <a href="en-us_topic_0042400609.html">Obtaining Metadata</a>For more information, see <a href="en-us_topic_0042400609.html">Obtaining Metadata</a>.</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0048642616__section4202207210118"><h4 class="sectiontitle">Impact on AS</h4><ul id="EN-US_TOPIC_0048642616__ul11675179111444"><li id="EN-US_TOPIC_0048642616__li17822332111444">When creating an AS configuration, you can use the <strong id="EN-US_TOPIC_0048642616__b7901175110233">User Data</strong> function to specify <span id="EN-US_TOPIC_0048642616__text2732946174214">ECS</span> configurations for initialization. If the AS configuration has taken effect in an AS group, the <span id="EN-US_TOPIC_0048642616__text11779154943119">ECS</span>s newly created in the AS group will automatically initialize their configurations based on the specified <span id="EN-US_TOPIC_0048642616__text5281103441117">ECS</span> configurations.</li><li id="EN-US_TOPIC_0048642616__li27735704111447">For an existing AS configuration, if its private image does not have Cloud-Init or Cloudbase-Init installed, the login mode of the <span id="EN-US_TOPIC_0048642616__text498535803212">ECS</span>s created in the AS group where the AS configuration takes effect may fail to take effect.<p id="EN-US_TOPIC_0048642616__p1760013719529">To resolve this issue, see "How Does Cloud-Init Affect the AS Service?" in <em id="EN-US_TOPIC_0048642616__i1810327792">Auto Scaling User Guide</em>.</p>
</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0048642616__section44995720162019"><h4 class="sectiontitle">Notes</h4><ul id="EN-US_TOPIC_0048642616__ul27309930162147"><li id="EN-US_TOPIC_0048642616__li57792420162147">When using Cloud-Init, enable DHCP in the VPC to which the <span id="EN-US_TOPIC_0048642616__text1781819502422">ECS</span> belongs.</li><li id="EN-US_TOPIC_0048642616__li3134774162149">When using Cloud-Init, ensure that security group rules for the outbound direction meet the following requirements:<ul id="EN-US_TOPIC_0048642616__ul58881557162226"><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li4991456153157"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b84235270617418">Protocol</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174111">TCP</strong></li><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li5391447153614"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174117">Port</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174120">80</strong></li><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li57518749153625"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b7921153132519">Destination</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b1492117320252">169.254.0.0/16</strong></li></ul>
<div class="note" id="EN-US_TOPIC_0048642616__note40094412162251"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_p6641537815423">If you use the default security group rules for the outbound direction, the preceding requirements are met. Then, the metadata can be accessed. Default security group rules for the outbound direction are as follows:</p>
<ul id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_ul57158436154418"><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li43613116154418"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174746">Protocol</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174748">All</strong></li><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li62494343154423"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174753">Port</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b842352706174755">All</strong></li><li id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_li45129043154435"><strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b84235270617480">Destination</strong>: <strong id="EN-US_TOPIC_0048642616__en-us_topic_0042400609_b84235270617483">0.0.0.0/0</strong></li></ul>
</div></div>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0092435778.html">Security</a></div>
</div>
</div>

