<a name="EN-US_TOPIC_0021426802"></a><a name="EN-US_TOPIC_0021426802"></a>

<h1 class="topictitle1">Resetting the Password for Logging In to a Windows <span id="text10299215115320">ECS</span></h1>
<div id="body1446515843165"><div class="section" id="EN-US_TOPIC_0021426802__section17131859112916"><h4 class="sectiontitle">Scenarios</h4><p id="EN-US_TOPIC_0021426802__p557120821469">You can reset your <span id="EN-US_TOPIC_0021426802__text194419319206">ECS</span> password if:</p>
<ul id="EN-US_TOPIC_0021426802__ul31424087214650"><li id="EN-US_TOPIC_0021426802__li58960965214655">The password is forgotten.</li><li id="EN-US_TOPIC_0021426802__li1617885210014">The password has expired.</li></ul>
<p id="EN-US_TOPIC_0021426802__p12543133915467">The method described in this section can only be used to change the password of a local Windows account, but not the password of a domain account.</p>
</div>
<div class="section" id="EN-US_TOPIC_0021426802__section1344819634213"><h4 class="sectiontitle">Prerequisites</h4><ul id="EN-US_TOPIC_0021426802__ul3616348111548"><li id="EN-US_TOPIC_0021426802__li50430391215359">A temporary Linux <span id="EN-US_TOPIC_0021426802__text106741032152010">ECS</span> which runs Ubuntu 14.04 or later and locates in the same AZ as the target <span id="EN-US_TOPIC_0021426802__text175815506155">ECS</span> is available.</li><li id="EN-US_TOPIC_0021426802__li24310805115411">You have bound an <span id="EN-US_TOPIC_0021426802__text1768405312614">EIP</span> to the temporary <span id="EN-US_TOPIC_0021426802__text8592234172013">ECS</span> and configured the apt-get source.</li><li id="EN-US_TOPIC_0021426802__li32894162215537">You have used either of the following methods to install <strong id="EN-US_TOPIC_0021426802__b208579116916">ntfs-3g</strong> and <strong id="EN-US_TOPIC_0021426802__b3750111514916">chntpw</strong> software packages on the temporary <span id="EN-US_TOPIC_0021426802__text14193143532012">ECS</span>:<p id="EN-US_TOPIC_0021426802__p11942872195216">Method 1:</p>
<p id="EN-US_TOPIC_0021426802__p16680109195213">Run the following command to install the <strong id="EN-US_TOPIC_0021426802__b655444226143626">ntfs-3g</strong> and <strong id="EN-US_TOPIC_0021426802__b642250819143626">chntpw</strong> software packages:</p>
<p id="EN-US_TOPIC_0021426802__p8297706215640"><strong id="EN-US_TOPIC_0021426802__b43636294195211">sudo apt-get install ntfs-3g chntpw</strong></p>
<p id="EN-US_TOPIC_0021426802__p36390052195223">Method 2:</p>
<p id="EN-US_TOPIC_0021426802__p1448445101313">Download the ntfs-3g and chntpw software packages of the version required by the temporary <span id="EN-US_TOPIC_0021426802__text1974473512204">ECS</span> OS.</p>
<p id="EN-US_TOPIC_0021426802__p16023271195323">To obtain the ntfs-3g software package, log in at <a href="http://www.tuxera.com/community/open-source-ntfs-3g/" target="_blank" rel="noopener noreferrer">www.tuxera.com/community/open-source-ntfs-3g/</a>.</p>
<p id="EN-US_TOPIC_0021426802__p22816579195323">To obtain the chntpw software package, log in at <a href="https://www.chntpw.com/download/" target="_blank" rel="noopener noreferrer">https://www.chntpw.com/download/</a>.</p>
</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0021426802__section1052621215437"><h4 class="sectiontitle">Procedure</h4><ol id="EN-US_TOPIC_0021426802__ol11891624125717"><li id="EN-US_TOPIC_0021426802__li168911724165711">Stop the original <span id="EN-US_TOPIC_0021426802__text43929361208">ECS</span>, detach the system disk from it, and attach the system disk to the temporary <span id="EN-US_TOPIC_0021426802__text14993123531717">ECS</span>.<ol type="a" id="EN-US_TOPIC_0021426802__ol64363114145227"><li id="EN-US_TOPIC_0021426802__li3490190117228">Log in to the management console.</li><li id="EN-US_TOPIC_0021426802__li464234814566">Click <span><img id="EN-US_TOPIC_0021426802__en-us_topic_0014250631_image1862675853202121" src="en-us_image_0210779229.png"></span> in the upper left corner and select your region and project.</li><li id="EN-US_TOPIC_0021426802__li32846719144331">Under <strong id="EN-US_TOPIC_0021426802__b175218554355"><span id="EN-US_TOPIC_0021426802__text24610550351">Computing</span></strong>, click <strong id="EN-US_TOPIC_0021426802__b652165514354">Elastic Cloud Server</strong>.</li><li id="EN-US_TOPIC_0021426802__li16925428202157">Stop the original Windows <span id="EN-US_TOPIC_0021426802__text131511138202011">ECS</span>, switch to the page providing details about the ECS, and click the <strong id="EN-US_TOPIC_0021426802__b551913512188">Disks</strong> tab.<div class="note" id="EN-US_TOPIC_0021426802__note32654683101914"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0021426802__p25456698101914">Do not forcibly stop the Windows <span id="EN-US_TOPIC_0021426802__text15900121411184">ECS</span>. Otherwise, password reset may fail.</p>
</div></div>
</li><li id="EN-US_TOPIC_0021426802__li49674320202157"><a name="EN-US_TOPIC_0021426802__li49674320202157"></a><a name="li49674320202157"></a>Locate the row containing the system disk to be detached and click <strong id="EN-US_TOPIC_0021426802__b129721858184120">Detach</strong> to detach the system disk from the ECS.</li><li id="EN-US_TOPIC_0021426802__li33733137172114">On the page providing details about the temporary <span id="EN-US_TOPIC_0021426802__text12567392209">ECS</span>, click the <strong id="EN-US_TOPIC_0021426802__b1053414917197">Disks</strong> tab.</li><li id="EN-US_TOPIC_0021426802__li32570973202157"><a name="EN-US_TOPIC_0021426802__li32570973202157"></a><a name="li32570973202157"></a>Click <strong id="EN-US_TOPIC_0021426802__b161532951911">Attach Disk</strong>. In the displayed dialog box, select the system disk detached in step <a href="#EN-US_TOPIC_0021426802__li49674320202157">1.e</a> and attach it to the temporary <span id="EN-US_TOPIC_0021426802__text148561039192012">ECS</span>.</li></ol>
</li><li id="EN-US_TOPIC_0021426802__li7881114019576">Log in to the temporary <span id="EN-US_TOPIC_0021426802__text154242409201">ECS</span> remotely and attach the system disk.<ol type="a" id="EN-US_TOPIC_0021426802__ol774330520859"><li id="EN-US_TOPIC_0021426802__li20334892202157"><a name="EN-US_TOPIC_0021426802__li20334892202157"></a><a name="li20334892202157"></a>Run the following command to view the directory of the system disk detached from the original Windows <span id="EN-US_TOPIC_0021426802__text1893694082013">ECS</span> now attached to the temporary <span id="EN-US_TOPIC_0021426802__text1391538162013">ECS</span>:<p id="EN-US_TOPIC_0021426802__p48796301202157"><strong id="EN-US_TOPIC_0021426802__b48318482201615">fdisk -l</strong></p>
</li><li id="EN-US_TOPIC_0021426802__li60186269202157">Run the following command to mount the file system of the detached system disk to the temporary <span id="EN-US_TOPIC_0021426802__text445634112010">ECS</span>:<p id="EN-US_TOPIC_0021426802__p53702024202157"><strong id="EN-US_TOPIC_0021426802__b1453579186212916">mount -t ntfs-3g /dev/</strong><em id="EN-US_TOPIC_0021426802__i197112003020135">Result obtained in step <a href="#EN-US_TOPIC_0021426802__li20334892202157">2.a</a></em> <strong id="EN-US_TOPIC_0021426802__b84836050212939">/mnt/</strong></p>
<p id="EN-US_TOPIC_0021426802__p34288713202157">For example, if the result obtained in step <a href="#EN-US_TOPIC_0021426802__li20334892202157">2.a</a> is <strong id="EN-US_TOPIC_0021426802__b84235270618114">xvde2</strong>, run the following command:</p>
<p id="EN-US_TOPIC_0021426802__p25922364202157"><strong id="EN-US_TOPIC_0021426802__b33457650195745">mount -t ntfs-3g /dev/xvde2 /mnt/</strong></p>
<p id="EN-US_TOPIC_0021426802__p17614416321">If the following error information is displayed after the preceding command is executed, the NTFS file systems may be inconsistent. In such a case, rectify the file system inconsistency.</p>
<pre class="screen" id="EN-US_TOPIC_0021426802__screen5738041498">The disk contains an unclean file system (0, 0).
Metadata kept in Windows cache, refused to mount.
Failed to mount '/dev/xvde2': Operation not permitted
The NTFS partition is in an unsafe state. Please resume and shutdown
Windows fully (no hibernation or fast restarting), or mount the volume
read-only with the 'ro' mount option.</pre>
<p id="EN-US_TOPIC_0021426802__p1887312119392">Back up the disk data, run the following command to rectify the NTFS file system inconsistency, and attach the system disk:</p>
<p id="EN-US_TOPIC_0021426802__p17152203304912"><strong id="EN-US_TOPIC_0021426802__b1573769891153243">ntfsfix /dev/</strong><em id="EN-US_TOPIC_0021426802__i828149149153243">Result obtained in step <a href="#EN-US_TOPIC_0021426802__li20334892202157">2.a</a></em></p>
<p id="EN-US_TOPIC_0021426802__p1115263314917">For example, if the result obtained in step <a href="#EN-US_TOPIC_0021426802__li20334892202157">2.a</a> is <strong id="EN-US_TOPIC_0021426802__b1267950437">xvde2</strong>, run the following command:</p>
<p id="EN-US_TOPIC_0021426802__p0152173394910"><strong id="EN-US_TOPIC_0021426802__b1715213364915">ntfsfix /dev/xvde2</strong></p>
</li></ol>
</li><li id="EN-US_TOPIC_0021426802__li11815752105716">Change the password and clear the original password.<ol type="a" id="EN-US_TOPIC_0021426802__ol50424782201550"><li id="EN-US_TOPIC_0021426802__li62607680202157">Run the following command to back up the SAM file:<p id="EN-US_TOPIC_0021426802__p26598214202157"><a name="EN-US_TOPIC_0021426802__li62607680202157"></a><a name="li62607680202157"></a><strong id="EN-US_TOPIC_0021426802__b38057335202157">cp /mnt/Windows/System32/config/SAM /mnt/Windows/System32/config/SAM.bak</strong></p>
</li><li id="EN-US_TOPIC_0021426802__li6971702202157">Run the following command to change the password of a specified user:<p id="EN-US_TOPIC_0021426802__p27836999202157"><a name="EN-US_TOPIC_0021426802__li6971702202157"></a><a name="li6971702202157"></a><strong id="EN-US_TOPIC_0021426802__b49206403202157">chntpw -u</strong> <strong id="EN-US_TOPIC_0021426802__b6247916922234">Administrator /mnt/Windows/System32/config/SAM</strong></p>
</li><li id="EN-US_TOPIC_0021426802__li38202480202157">Enter <strong id="EN-US_TOPIC_0021426802__b194223527144">1</strong>, <strong id="EN-US_TOPIC_0021426802__b1142214528144">q</strong>, and <strong id="EN-US_TOPIC_0021426802__b3423252181418">y</strong> as prompted, and press <strong id="EN-US_TOPIC_0021426802__b144231952181418">Enter</strong>.<p id="EN-US_TOPIC_0021426802__p7393147202157">The password has been reset if the following information is displayed:</p>
<pre class="screen" id="EN-US_TOPIC_0021426802__screen4873337622344">Select: [q] &gt; 1
Password cleared!
Select: [q] &gt; q
Hives that have changed:
#Name
0&lt;SAM&gt;
Write hive files? (y/n) [n] : y
0&lt;SAM&gt; - OK</pre>
</li></ol>
</li><li id="EN-US_TOPIC_0021426802__li142801656586">Stop the temporary <span id="EN-US_TOPIC_0021426802__text190442162015">ECS</span>, detach the system disk, and attach the system disk to the original Windows <span id="EN-US_TOPIC_0021426802__text2017694472113">ECS</span>.<ol type="a" id="EN-US_TOPIC_0021426802__ol3839776920224"><li id="EN-US_TOPIC_0021426802__li5152044202157">Stop the temporary <span id="EN-US_TOPIC_0021426802__text87991434202">ECS</span>, switch to the page providing details about the <span id="EN-US_TOPIC_0021426802__text73580442210">ECS</span>, and click the <strong id="EN-US_TOPIC_0021426802__b112952071229">Disks</strong> tab.</li><li id="EN-US_TOPIC_0021426802__li46368402202157"><a name="EN-US_TOPIC_0021426802__li46368402202157"></a><a name="li46368402202157"></a>Click <strong id="EN-US_TOPIC_0021426802__b842352706163715">Detach</strong> to detach the data disk temporarily attached in step <a href="#EN-US_TOPIC_0021426802__li32570973202157">1.g</a>.</li><li id="EN-US_TOPIC_0021426802__li48376692165527">On the page providing details about the original Windows <span id="EN-US_TOPIC_0021426802__text1351324462017">ECS</span>, click the <strong id="EN-US_TOPIC_0021426802__b1685512712221">Disks</strong> tab.</li><li id="EN-US_TOPIC_0021426802__li33256079202157">Click <strong id="EN-US_TOPIC_0021426802__b842352706163842">Attach Disk</strong>. In the displayed dialog box, select the data disk detached in step <a href="#EN-US_TOPIC_0021426802__li46368402202157">4.b</a> and device name <strong id="EN-US_TOPIC_0021426802__b182401343117593">/dev/sda</strong>.</li></ol>
</li><li id="EN-US_TOPIC_0021426802__li1373201565812">Start the original Windows <span id="EN-US_TOPIC_0021426802__text223994542019">ECS</span> and set a new login password.<ol type="a" id="EN-US_TOPIC_0021426802__ol39255285195729"><li id="EN-US_TOPIC_0021426802__li9387854202157">Click <strong id="EN-US_TOPIC_0021426802__b842352706112216">Start</strong> to start the original Windows <span id="EN-US_TOPIC_0021426802__text123151210142310">ECS</span>. After the status becomes <strong id="EN-US_TOPIC_0021426802__b842352706112223">Running</strong>, click <strong id="EN-US_TOPIC_0021426802__b842352706112228">Remote Login</strong> in the <strong id="EN-US_TOPIC_0021426802__b842352706112231">Operation</strong> column.</li><li id="EN-US_TOPIC_0021426802__li65750554202157">Click <strong id="EN-US_TOPIC_0021426802__b842352706164129">Start</strong>. Enter <strong id="EN-US_TOPIC_0021426802__b842352706152134">CMD</strong> in the search box and press <strong id="EN-US_TOPIC_0021426802__b842352706152136">Enter</strong>.</li><li id="EN-US_TOPIC_0021426802__li24194619202157">Run the following command to change the password (the new password must meet the requirements described in <a href="#EN-US_TOPIC_0021426802__en-us_topic_0021426802_table4381109318958">Table 1</a>):<p id="EN-US_TOPIC_0021426802__p13607117202157"><strong id="EN-US_TOPIC_0021426802__b553554283152234">net user </strong><strong id="EN-US_TOPIC_0021426802__b435775987152234">Administrator </strong><em id="EN-US_TOPIC_0021426802__i2075987327152234">New password</em></p>

<div class="tablenoborder"><a name="EN-US_TOPIC_0021426802__en-us_topic_0021426802_table4381109318958"></a><a name="en-us_topic_0021426802_table4381109318958"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0021426802__en-us_topic_0021426802_table4381109318958" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Password complexity requirements</caption><thead align="left"><tr id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_row925712618958"><th align="left" class="cellrowborder" valign="top" width="18.000000000000004%" id="mcps1.3.3.2.5.2.3.3.2.4.1.1"><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_p1162970218958">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="58.910000000000004%" id="mcps1.3.3.2.5.2.3.3.2.4.1.2"><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_p248177818958">Requirement</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.090000000000003%" id="mcps1.3.3.2.5.2.3.3.2.4.1.3"><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_p6680635518958">Example Value</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_row4260571318958"><td class="cellrowborder" valign="top" width="18.000000000000004%" headers="mcps1.3.3.2.5.2.3.3.2.4.1.1 "><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_p2851073918958">Password</p>
</td>
<td class="cellrowborder" valign="top" width="58.910000000000004%" headers="mcps1.3.3.2.5.2.3.3.2.4.1.2 "><ul id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_ul5961106018958"><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li6376657018958">Consists of 8 to 26 characters. </li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li52807732181018">Contains at least three of the following character types:<ul id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_ul24583583181022"><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li30443664181018">Uppercase letters</li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li4078050181018">Lowercase letters</li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li29325375181018">Digits</li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_li132021431143219">Special characters: $!@%-_=+[]:./^,{}?</li></ul>
</li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li38450401173547">Cannot contain the username or the username spelled backwards.</li><li id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_li531840181018">Cannot contain more than two consecutive characters in the same sequence as they appear in the username. (This requirement applies only to Windows <span id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_text153189271104">ECS</span>s.)</li></ul>
</td>
<td class="cellrowborder" valign="top" width="23.090000000000003%" headers="mcps1.3.3.2.5.2.3.3.2.4.1.3 "><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_en-us_topic_0067909751_en-us_topic_0021426802_p6481855218958">YNbUwp!dUc9MClnv</p>
<div class="note" id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_note18511011891"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0021426802__en-us_topic_0035643949_p351011796">The example password is generated randomly. Do not use it.</p>
</div></div>
</td>
</tr>
</tbody>
</table>
</div>
</li></ol>
</li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0031073513.html">Resetting a Login Password</a></div>
</div>
</div>

