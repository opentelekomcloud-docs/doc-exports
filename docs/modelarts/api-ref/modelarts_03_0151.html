<a name="modelarts_03_0151"></a><a name="modelarts_03_0151"></a>

<h1 class="topictitle1">Querying Monitoring Information About Resource Pool Nodes</h1>
<div id="body8662426"><div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section59889949"><h4 class="sectiontitle">Function</h4><p id="modelarts_03_0151__en-us_topic_0188079989_p25674946">This API is used to query monitoring information about resource pool nodes.</p>
</div>
<div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section2138635"><h4 class="sectiontitle">URI</h4><p id="modelarts_03_0151__en-us_topic_0188079989_p37992218355">GET   /v1/{project_id}/pools/{pool_id}/nodes/{node_ip}/metric-statistic</p>
<div class="p" id="modelarts_03_0151__en-us_topic_0188079989_p65771147125313"><a href="#modelarts_03_0151__en-us_topic_0188079989_table4442765616454">Table 1</a> describes the required parameters.
<div class="tablenoborder"><a name="modelarts_03_0151__en-us_topic_0188079989_table4442765616454"></a><a name="en-us_topic_0188079989_table4442765616454"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_03_0151__en-us_topic_0188079989_table4442765616454" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameter description</caption><thead align="left"><tr id="modelarts_03_0151__en-us_topic_0188079989_row1885755016454"><th align="left" class="cellrowborder" valign="top" width="18.81188118811881%" id="mcps1.3.2.3.2.2.5.1.1"><p id="modelarts_03_0151__en-us_topic_0188079989_p2131794716511">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="13.861386138613863%" id="mcps1.3.2.3.2.2.5.1.2"><p id="modelarts_03_0151__en-us_topic_0188079989_p4903214216511">Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.881188118811881%" id="mcps1.3.2.3.2.2.5.1.3"><p id="modelarts_03_0151__en-us_topic_0188079989_p1218057416511">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.44554455445545%" id="mcps1.3.2.3.2.2.5.1.4"><p id="modelarts_03_0151__en-us_topic_0188079989_p4710241816511">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_03_0151__en-us_topic_0188079989_row5911821816454"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.2.3.2.2.5.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p264845616511">project_id</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.2.3.2.2.5.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1319836116511">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="11.881188118811881%" headers="mcps1.3.2.3.2.2.5.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p6243435216511">String</p>
</td>
<td class="cellrowborder" valign="top" width="55.44554455445545%" headers="mcps1.3.2.3.2.2.5.1.4 "><p id="modelarts_03_0151__en-us_topic_0188079989_p2401771416511">Project ID</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row467320216454"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.2.3.2.2.5.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p861340516511">pool_id</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.2.3.2.2.5.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p2659720516511">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="11.881188118811881%" headers="mcps1.3.2.3.2.2.5.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p689001016511">String</p>
</td>
<td class="cellrowborder" valign="top" width="55.44554455445545%" headers="mcps1.3.2.3.2.2.5.1.4 "><p id="modelarts_03_0151__en-us_topic_0188079989_p2121992316511">ID of a dedicated resource pool</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row2274948268"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.2.3.2.2.5.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1593719362513">node_ip</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.2.3.2.2.5.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p13953156365">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="11.881188118811881%" headers="mcps1.3.2.3.2.2.5.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p162743482617">String</p>
</td>
<td class="cellrowborder" valign="top" width="55.44554455445545%" headers="mcps1.3.2.3.2.2.5.1.4 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1123710147252">IP address of a resource pool node, which is obtained from the response of the pool details query API</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section14721183115213"><h4 class="sectiontitle">Request Body</h4><div class="p" id="modelarts_03_0151__en-us_topic_0188079989_p215516381222"><a href="#modelarts_03_0151__en-us_topic_0188079989_table87520312215">Table 2</a> describes the request parameters.
<div class="tablenoborder"><a name="modelarts_03_0151__en-us_topic_0188079989_table87520312215"></a><a name="en-us_topic_0188079989_table87520312215"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_03_0151__en-us_topic_0188079989_table87520312215" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Parameter description</caption><thead align="left"><tr id="modelarts_03_0151__en-us_topic_0188079989_row14751193113211"><th align="left" class="cellrowborder" valign="top" width="18.81188118811881%" id="mcps1.3.3.2.2.2.5.1.1"><p id="modelarts_03_0151__en-us_topic_0188079989_p207511131327">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="13.861386138613863%" id="mcps1.3.3.2.2.2.5.1.2"><p id="modelarts_03_0151__en-us_topic_0188079989_p17517311823">Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.881188118811881%" id="mcps1.3.3.2.2.2.5.1.3"><p id="modelarts_03_0151__en-us_topic_0188079989_p1575123118210">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.44554455445545%" id="mcps1.3.3.2.2.2.5.1.4"><p id="modelarts_03_0151__en-us_topic_0188079989_p875193116217">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_03_0151__en-us_topic_0188079989_row1875210312027"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.3.2.2.2.5.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p165671756184413">metrics</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.3.2.2.2.5.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p13567456114417">No</p>
</td>
<td class="cellrowborder" valign="top" width="11.881188118811881%" headers="mcps1.3.3.2.2.2.5.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p2567256164412">String</p>
</td>
<td class="cellrowborder" valign="top" width="55.44554455445545%" headers="mcps1.3.3.2.2.2.5.1.4 "><p id="modelarts_03_0151__en-us_topic_0188079989_p5686227173013">Metrics to be queried. Separate metrics by commas (,), for example, <span class="parmname" id="modelarts_03_0151__en-us_topic_0188079989_parmname11606131514710"><b>CpuUsage,MemUsage</b></span>. If this parameter is left blank, all metrics are queried.</p>
<p id="modelarts_03_0151__en-us_topic_0188079989_p868616276308">Options:</p>
<ul id="modelarts_03_0151__en-us_topic_0188079989_ul2686627183015"><li id="modelarts_03_0151__en-us_topic_0188079989_li8686122733019"><strong id="modelarts_03_0151__en-us_topic_0188079989_b1214734512511">CpuUsage</strong>: CPU usage</li><li id="modelarts_03_0151__en-us_topic_0188079989_li1368652793014"><strong id="modelarts_03_0151__en-us_topic_0188079989_b216312345213">MemUsage</strong>: memory usage</li><li id="modelarts_03_0151__en-us_topic_0188079989_li868612733018"><strong id="modelarts_03_0151__en-us_topic_0188079989_b1281117135218">DiskReadRate</strong>: disk read rate</li><li id="modelarts_03_0151__en-us_topic_0188079989_li26865270301"><strong id="modelarts_03_0151__en-us_topic_0188079989_b104768307522">DiskWriteRate</strong>: disk write rate</li><li id="modelarts_03_0151__en-us_topic_0188079989_li1686142714307"><strong id="modelarts_03_0151__en-us_topic_0188079989_b107015401523">RecvBytesRate</strong>: network receiving rate</li><li id="modelarts_03_0151__en-us_topic_0188079989_li3686327173015"><strong id="modelarts_03_0151__en-us_topic_0188079989_b412422135312">SendBytesRate</strong>: network sending rate</li><li id="modelarts_03_0151__en-us_topic_0188079989_li136861227123019"><strong id="modelarts_03_0151__en-us_topic_0188079989_b1111773025312">GpuUtil</strong>: GPU usage</li><li id="modelarts_03_0151__en-us_topic_0188079989_li16687122763020"><strong id="modelarts_03_0151__en-us_topic_0188079989_b10151240125319">GpuMemUsage</strong>: GPU memory usage</li></ul>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row187504224410"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.3.2.2.2.5.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1556765614410">statistic_type</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.3.2.2.2.5.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1056719566442">No</p>
</td>
<td class="cellrowborder" valign="top" width="11.881188118811881%" headers="mcps1.3.3.2.2.2.5.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p756725611440">String</p>
</td>
<td class="cellrowborder" valign="top" width="55.44554455445545%" headers="mcps1.3.3.2.2.2.5.1.4 "><p id="modelarts_03_0151__en-us_topic_0188079989_p74936661319">Metric statistics method, indicating whether to collect metric statistics based on a single GPU. This parameter applies only to GPU metric statistics.</p>
<ul id="modelarts_03_0151__en-us_topic_0188079989_ul297194103413"><li id="modelarts_03_0151__en-us_topic_0188079989_li10971746340"><strong id="modelarts_03_0151__en-us_topic_0188079989_b1652615318532">all</strong>: Obtain the average value of the metric.</li><li id="modelarts_03_0151__en-us_topic_0188079989_li797134193410"><strong id="modelarts_03_0151__en-us_topic_0188079989_b766313544">each</strong>: Obtain the metric monitoring information about each GPU.</li></ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section15561295"><h4 class="sectiontitle">Response Body</h4><div class="p" id="modelarts_03_0151__en-us_topic_0188079989_p1422850741"><a href="#modelarts_03_0151__en-us_topic_0188079989_table1414514116749">Table 3</a> describes the response parameters.
<div class="tablenoborder"><a name="modelarts_03_0151__en-us_topic_0188079989_table1414514116749"></a><a name="en-us_topic_0188079989_table1414514116749"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_03_0151__en-us_topic_0188079989_table1414514116749" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Parameter description</caption><thead align="left"><tr id="modelarts_03_0151__en-us_topic_0188079989_row1296552316749"><th align="left" class="cellrowborder" valign="top" width="19%" id="mcps1.3.4.2.2.2.4.1.1"><p id="modelarts_03_0151__en-us_topic_0188079989_p452264431685">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="14.000000000000002%" id="mcps1.3.4.2.2.2.4.1.2"><p id="modelarts_03_0151__en-us_topic_0188079989_p424067391685">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="67%" id="mcps1.3.4.2.2.2.4.1.3"><p id="modelarts_03_0151__en-us_topic_0188079989_p123938441685">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_03_0151__en-us_topic_0188079989_row379107356"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.4.2.2.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p3678195015417">error_message</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.3.4.2.2.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p367815017542">String</p>
</td>
<td class="cellrowborder" valign="top" width="67%" headers="mcps1.3.4.2.2.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p146788503545">Error message of a failed API call.</p>
<p id="modelarts_03_0151__en-us_topic_0188079989_p767865010549">This parameter is not included when the API call succeeds.</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row95021353811"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.4.2.2.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p11679105018547">error_code</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.3.4.2.2.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1267985011549">String</p>
</td>
<td class="cellrowborder" valign="top" width="67%" headers="mcps1.3.4.2.2.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p0679850175418">Indicates the error code when the API fails to be called. Error code of a failed API call. For details, see <a href="modelarts_03_0095.html">Error Codes</a>.</p>
<p id="modelarts_03_0151__en-us_topic_0188079989_p19679165010545">This parameter is not included when the API call succeeds.</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row1722835016749"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.4.2.2.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p773018126138">metrics</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.3.4.2.2.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p6730101217138">Json Array</p>
</td>
<td class="cellrowborder" valign="top" width="67%" headers="mcps1.3.4.2.2.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p20730131211320">Metric monitoring details. For details, see <a href="#modelarts_03_0151__en-us_topic_0188079989_table8361164171810">Table 4</a>.</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row5468243216749"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.4.2.2.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p17730201261311">interval</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.3.4.2.2.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1730131210134">Integer</p>
</td>
<td class="cellrowborder" valign="top" width="67%" headers="mcps1.3.4.2.2.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p107304125137">Query interval, in minutes.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="tablenoborder"><a name="modelarts_03_0151__en-us_topic_0188079989_table8361164171810"></a><a name="en-us_topic_0188079989_table8361164171810"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_03_0151__en-us_topic_0188079989_table8361164171810" frame="border" border="1" rules="all"><caption><b>Table 4 </b>metrics data structure</caption><thead align="left"><tr id="modelarts_03_0151__en-us_topic_0188079989_row1036116411818"><th align="left" class="cellrowborder" valign="top" width="18.81188118811881%" id="mcps1.3.4.3.2.4.1.1"><p id="modelarts_03_0151__en-us_topic_0188079989_p13361742185">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="13.861386138613863%" id="mcps1.3.4.3.2.4.1.2"><p id="modelarts_03_0151__en-us_topic_0188079989_p1336116419185">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="67.32673267326733%" id="mcps1.3.4.3.2.4.1.3"><p id="modelarts_03_0151__en-us_topic_0188079989_p436113417189">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_03_0151__en-us_topic_0188079989_row136110481816"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.4.3.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p13622416189">metric</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.4.3.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p1536219461814">String</p>
</td>
<td class="cellrowborder" valign="top" width="67.32673267326733%" headers="mcps1.3.4.3.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p568715711810">Monitoring metrics</p>
</td>
</tr>
<tr id="modelarts_03_0151__en-us_topic_0188079989_row33621145188"><td class="cellrowborder" valign="top" width="18.81188118811881%" headers="mcps1.3.4.3.2.4.1.1 "><p id="modelarts_03_0151__en-us_topic_0188079989_p153621543189">value</p>
</td>
<td class="cellrowborder" valign="top" width="13.861386138613863%" headers="mcps1.3.4.3.2.4.1.2 "><p id="modelarts_03_0151__en-us_topic_0188079989_p43626414188">Json Array</p>
</td>
<td class="cellrowborder" valign="top" width="67.32673267326733%" headers="mcps1.3.4.3.2.4.1.3 "><p id="modelarts_03_0151__en-us_topic_0188079989_p33627461816">Sequence of the obtained metric value. The element is of the String type.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section828415581838"><h4 class="sectiontitle">Samples</h4><p id="modelarts_03_0151__en-us_topic_0188079989_p7208203917515">The following example queries monitoring information about node <span class="filepath" id="modelarts_03_0151__en-us_topic_0188079989_filepath08931481411"><b>192.168.1.1</b></span> in the dedicated resource pool <span class="parmname" id="modelarts_03_0151__en-us_topic_0188079989_parmname19893108641"><b>poolabcd</b></span>.</p>
<ul id="modelarts_03_0151__en-us_topic_0188079989_ul1233813121945"><li id="modelarts_03_0151__en-us_topic_0188079989_li93381126418">Sample request<pre class="screen" id="modelarts_03_0151__en-us_topic_0188079989_screen3161113433711">GET    https://endpoint/v1/{project_id}/pools/poolabcd/nodes/192.168.1.1/metric-statistic</pre>
</li></ul>
<ul id="modelarts_03_0151__en-us_topic_0188079989_ul13567541132"><li id="modelarts_03_0151__en-us_topic_0188079989_li7639753">Successful sample response<pre class="screen" id="modelarts_03_0151__en-us_topic_0188079989_screen8413744143720">{
  "metrics":
  [
    {
       "metric":"gpuUtil",
       "value":["1","22","33"]
     }
  ],
  "interval" : 1
}</pre>
</li><li id="modelarts_03_0151__en-us_topic_0188079989_li69931349184">Failed sample response<pre class="screen" id="modelarts_03_0151__en-us_topic_0188079989_screen24001548379">{
    "error_message": "Error string",
    "error_code": "ModelArts.0105"
}</pre>
</li></ul>
</div>
<div class="section" id="modelarts_03_0151__en-us_topic_0188079989_section16342114917109"><h4 class="sectiontitle">Status Code</h4><p id="modelarts_03_0151__en-us_topic_0188079989_p19942204915154">For details about the status code, see <a href="modelarts_03_0094.html#modelarts_03_0094">Status Code</a>.</p>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_03_0044.html">Training Jobs</a></div>
</div>
</div>

