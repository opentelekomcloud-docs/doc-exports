<a name="CreateAuthorization"></a><a name="CreateAuthorization"></a>

<h1 class="topictitle1">Configuring Authorization</h1>
<div id="body14318125420311"><div class="section" id="CreateAuthorization__section19319115415317"><h4 class="sectiontitle">Function</h4><p id="CreateAuthorization__p432211546312">This API is used to configure ModelArts authorization. ModelArts functions such as training management, development environment, data management, and real-time services can be properly used only after required authorization is configured. This API allows the administrator to configure an agency for IAM users and set an access key of the current user.</p>
</div>
<div class="section" id="CreateAuthorization__section1733016548312"><h4 class="sectiontitle">URI</h4><p id="CreateAuthorization__p2033235413319">POST /v2/{project_id}/authorizations</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="CreateAuthorization__table63381454439" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Path Parameters</caption><thead align="left"><tr id="CreateAuthorization__row1333415413312"><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.2.3.2.5.1.1"><p id="CreateAuthorization__p63409541232">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.2.3.2.5.1.2"><p id="CreateAuthorization__p53429541032">Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.2.3.2.5.1.3"><p id="CreateAuthorization__p11344154934">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.2.3.2.5.1.4"><p id="CreateAuthorization__p193461546312">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="CreateAuthorization__row8335165412318"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.2.3.2.5.1.1 "><p id="CreateAuthorization__p234815411316">project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.2.3.2.5.1.2 "><p id="CreateAuthorization__p635017541032">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.2.3.2.5.1.3 "><p id="CreateAuthorization__p03523541310">String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.2.3.2.5.1.4 "><p id="CreateAuthorization__p9355554137">Project ID. For details about how to obtain a project ID, see <a href="modelarts_03_0147.html">Obtaining a Project ID</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="CreateAuthorization__section173588545315"><h4 class="sectiontitle">Request Parameters</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="CreateAuthorization__request_AuthorizationRequest" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Request body parameters</caption><thead align="left"><tr id="CreateAuthorization__row13601541238"><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.2.5.1.1"><p id="CreateAuthorization__p236519547311">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.2.5.1.2"><p id="CreateAuthorization__p1236814548312">Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="19.98%" id="mcps1.3.3.2.2.5.1.3"><p id="CreateAuthorization__p7370125415316">Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40.02%" id="mcps1.3.3.2.2.5.1.4"><p id="CreateAuthorization__p12373854634">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="CreateAuthorization__row136020542316"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.1 "><p id="CreateAuthorization__p123764541135">user_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.2 "><p id="CreateAuthorization__p1137814542317">No</p>
</td>
<td class="cellrowborder" valign="top" width="19.98%" headers="mcps1.3.3.2.2.5.1.3 "><p id="CreateAuthorization__p2038014543310">String</p>
</td>
<td class="cellrowborder" valign="top" width="40.02%" headers="mcps1.3.3.2.2.5.1.4 "><p id="CreateAuthorization__p3383105419316">User ID. For details about how to obtain a user ID, see <a href="modelarts_03_0006.html">Obtaining a User ID</a>.</p>
<p id="CreateAuthorization__p36511491664">If <strong id="CreateAuthorization__b48101366717">user_id</strong> is set to <strong id="CreateAuthorization__b15755184514710">all-users</strong>, authorization is configured for all IAM users. If some users have been authorized, their authorization will be updated.</p>
<p id="CreateAuthorization__p1166312122719">This parameter is mandatory only if the authorization method is set to <strong id="CreateAuthorization__b1193517562715">Agency</strong>.</p>
</td>
</tr>
<tr id="CreateAuthorization__row936045413315"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.1 "><p id="CreateAuthorization__p1539218541238">type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.2 "><p id="CreateAuthorization__p83942541032">No</p>
</td>
<td class="cellrowborder" valign="top" width="19.98%" headers="mcps1.3.3.2.2.5.1.3 "><p id="CreateAuthorization__p4396654537">String</p>
</td>
<td class="cellrowborder" valign="top" width="40.02%" headers="mcps1.3.3.2.2.5.1.4 "><p id="CreateAuthorization__p19400554135">Authorization type. <strong id="CreateAuthorization__b2401554036">Agency</strong> is recommended.</p>
<p id="CreateAuthorization__p104021541239">Options:</p>
<ul id="CreateAuthorization__ul840435411313"><li id="CreateAuthorization__li1340511541739"><strong id="CreateAuthorization__b140755415317">agency</strong>: authorization through an agency</li><li id="CreateAuthorization__li64087541937"><strong id="CreateAuthorization__b540955418319">credential</strong>: authorization through an access Key (AK/SK)</li></ul>
<p id="CreateAuthorization__p1841011549318">Default: <strong id="CreateAuthorization__b104116541835">agency</strong></p>
</td>
</tr>
<tr id="CreateAuthorization__row4361145418319"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.1 "><p id="CreateAuthorization__p144135543320">content</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.2 "><p id="CreateAuthorization__p174153541739">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="19.98%" headers="mcps1.3.3.2.2.5.1.3 "><p id="CreateAuthorization__p741885415315">String</p>
</td>
<td class="cellrowborder" valign="top" width="40.02%" headers="mcps1.3.3.2.2.5.1.4 "><p id="CreateAuthorization__p1682215817812">Authorization content.</p>
<ul id="CreateAuthorization__ul1485014111980"><li id="CreateAuthorization__li18360615382">If <strong id="CreateAuthorization__b14361161515818">Authorization Type</strong> is set to <strong id="CreateAuthorization__b19361171513810">Agency</strong>, this field indicates the agency name.</li><li id="CreateAuthorization__li58505114811">If <strong id="CreateAuthorization__b12426125413320">Authorization Type</strong> is set to <strong id="CreateAuthorization__b14262543320">AK/SK</strong>, this field indicates the access key ID (AK).</li></ul>
</td>
</tr>
<tr id="CreateAuthorization__row036111541319"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.1 "><p id="CreateAuthorization__p16428954232">secret_key</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.2.5.1.2 "><p id="CreateAuthorization__p243116542310">No</p>
</td>
<td class="cellrowborder" valign="top" width="19.98%" headers="mcps1.3.3.2.2.5.1.3 "><p id="CreateAuthorization__p14344541037">String</p>
</td>
<td class="cellrowborder" valign="top" width="40.02%" headers="mcps1.3.3.2.2.5.1.4 "><p id="CreateAuthorization__p4438155418316">Secret Access Key (SK). This field is required only when <strong id="CreateAuthorization__b743910541336">Authorization Method</strong> is set to <strong id="CreateAuthorization__b1439125416314">AK/SK</strong>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="CreateAuthorization__section644045419312"><h4 class="sectiontitle">Response Parameters</h4><p id="CreateAuthorization__p104430541839">None</p>
</div>
<div class="section" id="CreateAuthorization__section84455547316"><h4 class="sectiontitle">Example Requests</h4><p id="CreateAuthorization__p1344818548317">Upload authorization.</p>
<pre class="screen" id="CreateAuthorization__screen164514546318">POST https://{endpoint}/v2/{project_id}/authorizations

{
  "user_id" : "****d80fb058844ae8b82aa66d9fe****",
  "type" : "agency",
  "content" : "modelarts_agency"
}</pre>
</div>
<div class="section" id="CreateAuthorization__section114661354732"><h4 class="sectiontitle">Example Responses</h4><p id="CreateAuthorization__p64694541134"><strong id="CreateAuthorization__b94709541236">Status code: 200</strong></p>
<p id="CreateAuthorization__p1647114541235">OK</p>
<pre class="screen" id="CreateAuthorization__screen1947475419317">{
  "result" : "true"
}</pre>
</div>
<div class="section" id="CreateAuthorization__section12480154131"><h4 class="sectiontitle">Status Codes</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="CreateAuthorization__status_code" frame="border" border="1" rules="all"><thead align="left"><tr id="CreateAuthorization__row1948485419311"><th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.7.2.1.3.1.1"><p id="CreateAuthorization__p114865544318">Status Code</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="85%" id="mcps1.3.7.2.1.3.1.2"><p id="CreateAuthorization__p1948813541530">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="CreateAuthorization__row154844546317"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.7.2.1.3.1.1 "><p id="CreateAuthorization__p17491135416320">200</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.3.7.2.1.3.1.2 "><p id="CreateAuthorization__p1494185415313">OK</p>
</td>
</tr>
<tr id="CreateAuthorization__row17484654732"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.7.2.1.3.1.1 "><p id="CreateAuthorization__p1149955419311">400</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.3.7.2.1.3.1.2 "><p id="CreateAuthorization__p35021540318">Bad Request</p>
</td>
</tr>
<tr id="CreateAuthorization__row1648415541033"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.7.2.1.3.1.1 "><p id="CreateAuthorization__p17504054133">401</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.3.7.2.1.3.1.2 "><p id="CreateAuthorization__p350718545310">Unauthorized</p>
</td>
</tr>
<tr id="CreateAuthorization__row144846541139"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.7.2.1.3.1.1 "><p id="CreateAuthorization__p205091354735">403</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.3.7.2.1.3.1.2 "><p id="CreateAuthorization__p151217546315">Forbidden</p>
</td>
</tr>
<tr id="CreateAuthorization__row548425419318"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.7.2.1.3.1.1 "><p id="CreateAuthorization__p16515135415318">404</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.3.7.2.1.3.1.2 "><p id="CreateAuthorization__p85174543318">Not Found</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="CreateAuthorization__section17519754735"><h4 class="sectiontitle">Error Codes</h4><p id="CreateAuthorization__p352214541536">See <a href="modelarts_03_0095.html">Error Codes</a>.</p>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="authorization.html">Authorization Management</a></div>
</div>
</div>

