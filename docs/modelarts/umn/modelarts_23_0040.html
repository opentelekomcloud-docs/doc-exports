<a name="modelarts_23_0040"></a><a name="modelarts_23_0040"></a>

<h1 class="topictitle1">Installing External Libraries and Kernels in Notebook Instances</h1>
<div id="body8662426"><p id="modelarts_23_0040__en-us_topic_0164900812_p354317524144">Multiple environments have been installed in ModelArts notebook instances, including TensorFlow. You can use <strong id="modelarts_23_0040__en-us_topic_0164900812_b13282175525413">pip install</strong> to install external libraries from a Jupyter notebook or terminal to facilitate use.</p>
<div class="section" id="modelarts_23_0040__en-us_topic_0164900812_section299115810168"><h4 class="sectiontitle">Installing an External Library from a Jupyter Notebook</h4><p id="modelarts_23_0040__en-us_topic_0164900812_p4426454141720">Assume that you want to install Shapely from a notebook instance. Follow the following instructions:</p>
<ol id="modelarts_23_0040__en-us_topic_0164900812_ol1518423816"><li id="modelarts_23_0040__en-us_topic_0164900812_li65104123820">In the left navigation pane of the ModelArts management console, choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname12960105023817"><b>DevEnviron &gt; Notebooks</b></span>. Open a notebook instance in the displayed notebook instance list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li551742384">In the <strong id="modelarts_23_0040__en-us_topic_0164900812_b2032154916712">Jupyter Notebook</strong> page that is displayed, click <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname20173516397"><b>New</b></span> and select the required AI engine from the drop-down list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li356418384">In the displayed window, type the following command in the code input bar to install Shapely:<p id="modelarts_23_0040__en-us_topic_0164900812_p59135216429"><a name="modelarts_23_0040__en-us_topic_0164900812_li356418384"></a><a name="en-us_topic_0164900812_li356418384"></a><b><span class="cmdname" id="modelarts_23_0040__en-us_topic_0164900812_cmdname11916561425">pip install shapely</span></b></p>
</li></ol>
</div>
<div class="section" id="modelarts_23_0040__en-us_topic_0164900812_section1968154311176"><h4 class="sectiontitle">Installing an External Library from a Terminal</h4><p id="modelarts_23_0040__en-us_topic_0164900812_p910314415284">Assume that you want to install Shapely from the terminal of a notebook instance by using pip. Follow the following instructions:</p>
<ol id="modelarts_23_0040__en-us_topic_0164900812_ol164531532104619"><li id="modelarts_23_0040__en-us_topic_0164900812_li1015923504613">In the left navigation pane of the ModelArts management console, choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname20850938574"><b>DevEnviron &gt; Notebooks</b></span>. Open a notebook instance in the displayed notebook instance list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li10308193314710">In the displayed Jupyter dashboard, click <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname82665592075"><b>New</b></span> and choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname1026815917711"><b>Terminal</b></span> from the shortcut menu.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li124539326469">For a notebook instance that does not use the AI engine of the <strong id="modelarts_23_0040__en-us_topic_0164900812_b5182101153815">Multi-Engine</strong> type, enter the following command in the code input bar to install Shapely:<p id="modelarts_23_0040__en-us_topic_0164900812_p194181558184710"><b><span class="cmdname" id="modelarts_23_0040__en-us_topic_0164900812_cmdname64759364817">/opt/conda/envs/python27_tf/bin/pip install Shapely</span></b></p>
</li><li id="modelarts_23_0040__en-us_topic_0164900812_li119171274115">The <strong id="modelarts_23_0040__en-us_topic_0164900812_b1219818298418">Multi-Engine</strong> notebook instance can use multiple engines. By referring to the <strong id="modelarts_23_0040__en-us_topic_0164900812_b1318632194211">README</strong> file in the <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname18864103384116"><b>/home/ma-user/</b></span> path, switch to the installation package of the corresponding engine environment and install Shapely. For example, you can install Shapely from TensorFlow-1.13.1 with the following code:<pre class="screen" id="modelarts_23_0040__en-us_topic_0164900812_screen12615135453">source /home/ma-user/anaconda3/bin/activate TensorFlow-1.13.1
pip install shapely</pre>
</li></ol>
<div class="note" id="modelarts_23_0040__en-us_topic_0164900812_note5553181018501"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="modelarts_23_0040__en-us_topic_0164900812_p8685174216135">When you create a ModelArts training job, a new independent running environment is started, which is not associated with the packages installed in the Notebook environment. Therefore, add <strong id="modelarts_23_0040__en-us_topic_0164900812_b13329152971714">os.system('pip install <em id="modelarts_23_0040__en-us_topic_0164900812_i17785173314177">xxx</em>')</strong> to the startup code before importing the installation package.</p>
<p id="modelarts_23_0040__en-us_topic_0164900812_p1776311456131">For example, if you need to use the Shapely dependency in the training job, add the following code to the startup code:</p>
<pre class="screen" id="modelarts_23_0040__en-us_topic_0164900812_screen3288161810506">os.system('pip install Shapely')
import Shapely</pre>
</div></div>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_23_0327.html">Configuring the Jupyter Notebook Environment</a></div>
</div>
</div>

