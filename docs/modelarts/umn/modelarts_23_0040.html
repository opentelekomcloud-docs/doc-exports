<a name="modelarts_23_0040"></a><a name="modelarts_23_0040"></a>

<h1 class="topictitle1">Installing External Libraries and Kernels in Notebook Instances</h1>
<div id="body8662426"><p id="modelarts_23_0040__en-us_topic_0164900812_p354317524144">Multiple environments have been installed in ModelArts notebook instances, including TensorFlow. You can use <strong id="modelarts_23_0040__en-us_topic_0164900812_b13282175525413">pip install</strong> to install external libraries from a Jupyter notebook or terminal to facilitate use.</p>
<div class="section" id="modelarts_23_0040__en-us_topic_0164900812_section299115810168"><h4 class="sectiontitle">Installing an External Library from a Jupyter Notebook</h4><p id="modelarts_23_0040__en-us_topic_0164900812_p4426454141720">Assume that you want to install Shapely from a notebook instance. Follow the following instructions:</p>
<ol id="modelarts_23_0040__en-us_topic_0164900812_ol1518423816"><li id="modelarts_23_0040__en-us_topic_0164900812_li65104123820">In the left navigation pane of the ModelArts management console, choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname12960105023817"><b>DevEnviron &gt; Notebooks</b></span>. Open a notebook instance in the displayed notebook instance list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li551742384">In the <strong id="modelarts_23_0040__en-us_topic_0164900812_b2032154916712">Jupyter Notebook</strong> page that is displayed, click <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname20173516397"><b>New</b></span> and select the required AI engine from the drop-down list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li356418384">In the displayed window, type the following command in the code input bar to install Shapely:<p id="modelarts_23_0040__en-us_topic_0164900812_p59135216429"><a name="modelarts_23_0040__en-us_topic_0164900812_li356418384"></a><a name="en-us_topic_0164900812_li356418384"></a><b><span class="cmdname" id="modelarts_23_0040__en-us_topic_0164900812_cmdname11916561425">pip install shapely</span></b></p>
</li></ol>
</div>
<div class="section" id="modelarts_23_0040__en-us_topic_0164900812_section1968154311176"><h4 class="sectiontitle">Installing an External Library from a Terminal</h4><p id="modelarts_23_0040__en-us_topic_0164900812_p910314415284">Assume that you want to install Shapely from the terminal of a notebook instance by using pip. Follow the following instructions:</p>
<ol id="modelarts_23_0040__en-us_topic_0164900812_ol164531532104619"><li id="modelarts_23_0040__en-us_topic_0164900812_li1015923504613">In the left navigation pane of the ModelArts management console, choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname20850938574"><b>DevEnviron &gt; Notebooks</b></span>. Open a notebook instance in the displayed notebook instance list.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li10308193314710">In the displayed Jupyter dashboard, click <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname82665592075"><b>New</b></span> and choose <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname1026815917711"><b>Terminal</b></span> from the shortcut menu.</li><li id="modelarts_23_0040__en-us_topic_0164900812_li124539326469">For a notebook instance that does not use the AI engine of the <strong id="modelarts_23_0040__en-us_topic_0164900812_b5182101153815">Multi-Engine</strong> type, enter the following command in the code input bar to install Shapely:<p id="modelarts_23_0040__en-us_topic_0164900812_p194181558184710"><b><span class="cmdname" id="modelarts_23_0040__en-us_topic_0164900812_cmdname64759364817">/opt/conda/envs/python27_tf/bin/pip install Shapely</span></b></p>
</li><li id="modelarts_23_0040__en-us_topic_0164900812_li119171274115">The <strong id="modelarts_23_0040__en-us_topic_0164900812_b1219818298418">Multi-Engine</strong> notebook instance can use multiple engines. By referring to the <strong id="modelarts_23_0040__en-us_topic_0164900812_b1318632194211">README</strong> file in the <span class="parmname" id="modelarts_23_0040__en-us_topic_0164900812_parmname18864103384116"><b>/home/ma-user/</b></span> path, switch to the installation package of the corresponding engine environment and install Shapely. For example, you can install Shapely from TensorFlow-1.13.1 with the following code:<pre class="screen" id="modelarts_23_0040__en-us_topic_0164900812_screen12615135453">source /home/ma-user/anaconda3/bin/activate TensorFlow-1.13.1
pip install shapely</pre>
</li></ol>
<p id="modelarts_23_0040__en-us_topic_0164900812_p028381832213"><a href="#modelarts_23_0040__en-us_topic_0164900812_table736871282320">Table 1</a> lists the Python paths of the TensorFlow, MXNet, PyTorch, Caffe, Scikit-learn &amp; XGBoost, and Spark engines in the terminal. The pip system is also installed in the same directory as the related engine. For details about the engines used by <strong id="modelarts_23_0040__en-us_topic_0164900812_b127015376261">Multi-Engine</strong> notebook instances, refer to the <strong id="modelarts_23_0040__en-us_topic_0164900812_b52601016273">README</strong> file.</p>

<div class="tablenoborder"><a name="modelarts_23_0040__en-us_topic_0164900812_table736871282320"></a><a name="en-us_topic_0164900812_table736871282320"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_23_0040__en-us_topic_0164900812_table736871282320" frame="border" border="1" rules="all"><caption><b>Table 1 </b>AI engines and their installation paths</caption><thead align="left"><tr id="modelarts_23_0040__en-us_topic_0164900812_row153681712132313"><th align="left" class="cellrowborder" valign="top" width="26.75%" id="mcps1.3.3.5.2.4.1.1"><p id="modelarts_23_0040__en-us_topic_0164900812_p236811215231">AI Engine</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="27.229999999999997%" id="mcps1.3.3.5.2.4.1.2"><p id="modelarts_23_0040__en-us_topic_0164900812_p46881734494">Version</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="46.02%" id="mcps1.3.3.5.2.4.1.3"><p id="modelarts_23_0040__en-us_topic_0164900812_p73681212122317">Python Path</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_23_0040__en-us_topic_0164900812_row113688126237"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p23685124238">TensorFlow</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p65374195499">TF-1.8.0-python2.7</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p13687128231">/opt/conda/envs/python27_tf/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row636816126236"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1536821292314">TensorFlow</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1068816314919">TF-1.8.0-python3.6</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p736891214239">/opt/conda/envs/python36_tf/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row1436810126237"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p11368112122311">MXNet</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p6688630499">MXNet-1.2.1-python2.7</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1636921262318">/opt/conda/envs/python27_mxnet/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row7369712192314"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1369101232320">MXNet</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p11689732497">MXNet-1.2.1-python3.6</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p19369161213231">/opt/conda/envs/python36_mxnet/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row0369812172310"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p63698121233">PyTorch</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p106891531494">PyTorch-1.0.0-python2.7</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p10369612152315">/opt/conda/envs/python27_pytorch/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row143693125239"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p17369112122316">PyTorch</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p34801340164910">PyTorch-1.0.0-python3.6</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p12369101292315">/opt/conda/envs/python36_pytorch/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row207464136262"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p97461213182610">Caffe</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p16891935495">Caffe-1.0.0-python2.7</p>
</td>
<td class="cellrowborder" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p97461613172617">/opt/conda/envs/python27_caffe/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row19303334421"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1764541124213">Scikit-learn &amp; XGBoost</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1878784911491">ML-1.0.0-python2.7</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p5512751184210">/opt/notebook/anaconda2/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row1230173311428"><td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p11391134716428">Spark</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1768911312492">Spark-2.2.0-python2.7</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row93043318423"><td class="cellrowborder" valign="top" width="26.75%" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1213104274312">Scikit-learn &amp; XGBoost</p>
</td>
<td class="cellrowborder" valign="top" width="27.229999999999997%" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p1822125854914">ML-1.0.0-python3.6</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="46.02%" headers="mcps1.3.3.5.2.4.1.3 "><p id="modelarts_23_0040__en-us_topic_0164900812_p393123063211">/opt/notebook/anaconda3/bin/python</p>
</td>
</tr>
<tr id="modelarts_23_0040__en-us_topic_0164900812_row17317335426"><td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.4.1.1 "><p id="modelarts_23_0040__en-us_topic_0164900812_p173113318422">Spark</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.4.1.2 "><p id="modelarts_23_0040__en-us_topic_0164900812_p96891039497">Spark-2.2.0-python3.6</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note" id="modelarts_23_0040__en-us_topic_0164900812_note5553181018501"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="modelarts_23_0040__en-us_topic_0164900812_p8685174216135">When you create a ModelArts training job, a new independent running environment is started, which is not associated with the packages installed in the Notebook environment. Therefore, add <strong id="modelarts_23_0040__en-us_topic_0164900812_b13329152971714">os.system('pip install <em id="modelarts_23_0040__en-us_topic_0164900812_i17785173314177">xxx</em>')</strong> to the startup code before importing the installation package.</p>
<p id="modelarts_23_0040__en-us_topic_0164900812_p1776311456131">For example, if you need to use the Shapely dependency in the training job, add the following code to the startup code:</p>
<pre class="screen" id="modelarts_23_0040__en-us_topic_0164900812_screen3288161810506">os.system('pip install Shapely')
import Shapely</pre>
</div></div>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_23_0327.html">Configuring the Jupyter Notebook Environment</a></div>
</div>
</div>

