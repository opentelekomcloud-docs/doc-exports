<a name="modelarts_21_0019"></a><a name="modelarts_21_0019"></a>

<h1 class="topictitle1">Deploying a Model as a Service</h1>
<div id="body0000001251248110"><div class="section" id="modelarts_21_0019__en-us_topic_0169446268_section156034495421"><h4 class="sectiontitle">Deploying a Model</h4><p id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_p209877275534">You can deploy a model as a real-time service that provides a real-time test UI and monitoring capabilities. After model training is complete, you can deploy a version with the ideal accuracy and in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname167061823103018"><b>Successful</b></span> status as a service. The procedure is as follows:</p>
<ol id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_ol1519325515325"><li id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_li1019312553326">On the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle757174611331"><b>Train Model</b></span> tab page, wait until the training status changes to <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1957114615332"><b>Completed</b></span>. Click <span class="uicontrol" id="modelarts_21_0019__en-us_topic_0169446268_uicontrol45711046123318"><b>Deploy</b></span> in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname15572546143317"><b>Version Manager</b></span> pane.</li><li id="modelarts_21_0019__en-us_topic_0169446268_li198561836518">In the displayed <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle1237017402304"><b>Deploy</b></span> dialog box, set <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname6682851123518"><b>Specifications</b></span>, and click <span class="uicontrol" id="modelarts_21_0019__en-us_topic_0169446268_uicontrol068355118352"><b>OK</b></span> to deploy the model as a real-time service.<ul id="modelarts_21_0019__en-us_topic_0169446268_ul10557124311220"><li id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_li990514151901"><strong id="modelarts_21_0019__b42923457263">Specifications</strong>: <span class="parmname" id="modelarts_21_0019__parmname10601105112611"><b>Compute-intensive 1 instance (CPU)</b></span> are supported.</li><li id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_li59065150012"><span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname135774763111"><b>Compute Nodes</b></span>: The default value is <span class="parmvalue" id="modelarts_21_0019__en-us_topic_0169446268_parmvalue16234718315"><b>1</b></span> and cannot be changed.</li><li id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_li89064151608"><span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname718520619566"><b>Auto Stop</b></span>: After this parameter is enabled and the auto stop time is set, a service automatically stops at the specified time. If this parameter is disabled, a real-time service is always running and billed. The function can help you avoid unnecessary charges. The auto stop function is enabled by default. The default value is <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname0123715175615"><b>1 hour later</b></span>.<p id="modelarts_21_0019__en-us_topic_0169446268_p79225635910">Currently, the options are <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname95687206569"><b>1 hour later</b></span>, <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname17568192015561"><b>2 hours later</b></span>, <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname15568112045619"><b>4 hours later</b></span>, <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname4568520175616"><b>6 hours later</b></span>, and <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1568162018566"><b>Custom</b></span>. If you select <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname6403175913564"><b>Custom</b></span>, you can enter any integer from 1 to 24 hours in the text box on the right.</p>
</li></ul>
<div class="fignone" id="modelarts_21_0019__en-us_topic_0169446268_fig1128512054316"><span class="figcap"><b>Figure 1 </b>Deploying a service</span><br><span><img id="modelarts_21_0019__en-us_topic_0169446268_image1970234665813" src="en-us_image_0000001297768593.png"></span></div>
</li><li id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_li11245345209">After the model is deployed, view the model deployment status on the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle5329114402917"><b>Service Deployment</b></span> page.<p id="modelarts_21_0019__en-us_topic_0169446268_en-us_topic_0169446156_p139485445203">The deployment takes a certain period of time. If the status in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname6741165118302"><b>Version Manager</b></span> pane changes from <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname49581321312"><b>Deploying</b></span> to <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1960319143117"><b>Running</b></span>, the deployment is complete.</p>
</li></ol>
</div>
<div class="section" id="modelarts_21_0019__en-us_topic_0169446268_section535154714515"><h4 class="sectiontitle">Testing a Service</h4><ul id="modelarts_21_0019__en-us_topic_0169446268_ul81081912313"><li id="modelarts_21_0019__en-us_topic_0169446268_li6108811637">On the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle194292181965"><b>Service Deployment</b></span> page, select a service type. For example, on the ExeML page, the predictive analytics model is deployed as a real-time service by default. On the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle9431161815616"><b>Real-Time Services</b></span> page, click <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname14338189617"><b>Prediction</b></span> in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname743581814618"><b>Operation</b></span> column of the target service to perform a service test. For details, see <a href="https://docs.otc.t-systems.com/en-us/usermanual/modelarts/modelarts_23_0062.html" target="_blank" rel="noopener noreferrer">Testing a Service</a>.</li><li id="modelarts_21_0019__en-us_topic_0169446268_li144461334311">You can also use code to test a service. For details, see <a href="https://docs.otc.t-systems.com/en-us/usermanual/modelarts/modelarts_23_0063.html" target="_blank" rel="noopener noreferrer">Accessing a Real-Time Service</a>.</li><li id="modelarts_21_0019__en-us_topic_0169446268_li3528165337">The following describes the procedure for performing a service test after the predictive analytics model is deployed as a service on the ExeML page.<ol id="modelarts_21_0019__en-us_topic_0169446268_ol939671815523"><li id="modelarts_21_0019__en-us_topic_0169446268_li9771161119539">After the model is deployed, you can test the model using code. On the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle1365144917715"><b>ExeML</b></span> page, click the target project, go to the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle17819167489"><b>Deployment Online</b></span> tab page, select the service version in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1735192713812"><b>Running</b></span> state, and enter the code in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1978181251512"><b>Code</b></span> area.</li><li id="modelarts_21_0019__en-us_topic_0169446268_li1786641311616">Click <span class="uicontrol" id="modelarts_21_0019__en-us_topic_0169446268_uicontrol1181303111013"><b>Prediction</b></span> to perform the test. After the prediction is complete, the result is displayed in the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname88392538102"><b>Return Result</b></span> area on the right. If the model accuracy does not meet your expectation, train and deploy the model again on the <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname126425481116"><b>Label Data</b></span> tab page. If you are satisfied with the model prediction result, call the API to access the real-time service as prompted. For details, see <a href="https://docs.otc.t-systems.com/en-us/usermanual/modelarts/modelarts_23_0063.html" target="_blank" rel="noopener noreferrer">Accessing a Real-Time Service</a>.<ul id="modelarts_21_0019__en-us_topic_0169446268_ul185518412710"><li id="modelarts_21_0019__en-us_topic_0169446268_li1485517417713"><span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname3902454163210"><b>attr_1</b></span> to <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname89991358113216"><b>attr_7</b></span> indicate the input data. On the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle873494113319"><b>Label Data</b></span> tab page, the selected label column is <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1274418913331"><b>attr_7</b></span>, that is, <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname475416137330"><b>attr_7</b></span> is the target column to be predicted. The value of <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1233913205336"><b>attr_7</b></span> can be set to any value or left blank, which does not affect the prediction result.<div class="codecoloring" codetype="Python" id="modelarts_21_0019__en-us_topic_0169446268_screen058516121173"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> 
  <span class="p">{</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;req_data&quot;</span><span class="p">:</span> 
	<span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;attr_1&quot;</span><span class="p">:</span> <span class="s2">&quot;58&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_2&quot;</span><span class="p">:</span> <span class="s2">&quot;management&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_3&quot;</span><span class="p">:</span> <span class="s2">&quot;married&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_4&quot;</span><span class="p">:</span> <span class="s2">&quot;tertiary&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_5&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_6&quot;</span><span class="p">:</span> <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;attr_7&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li><li id="modelarts_21_0019__en-us_topic_0169446268_li1825064971513">In the preceding code snippet, <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname19153536193317"><b>predictioncol</b></span> is the inference result of label column <span class="parmname" id="modelarts_21_0019__en-us_topic_0169446268_parmname1371513402333"><b>attr_7</b></span>.</li></ul>
<div class="note" id="modelarts_21_0019__en-us_topic_0169446268_note7312157124013"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="modelarts_21_0019__en-us_topic_0169446268_p83126764019">A running real-time service keeps consuming the resources. If you do not need to use the real-time service, you are advised to click <span class="uicontrol" id="modelarts_21_0019__en-us_topic_0169446268_uicontrol4103184773210"><b>Stop</b></span> in the <span class="wintitle" id="modelarts_21_0019__en-us_topic_0169446268_wintitle111038478324"><b>Version Manager</b></span> pane to stop the service. If you want to use the service again, click <span class="uicontrol" id="modelarts_21_0019__en-us_topic_0169446268_uicontrol1438102414236"><b>Start</b></span>.</p>
</div></div>
</li></ol>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001297767637.html">Predictive Analytics</a></div>
</div>
</div>

