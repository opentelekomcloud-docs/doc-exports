<a name="modelarts_21_0013"></a><a name="modelarts_21_0013"></a>

<h1 class="topictitle1">Deploying a Model as a Service</h1>
<div id="body8662426"><div class="section" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_section9164156195610"><h4 class="sectiontitle">Deploying a Model</h4><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_p209877275534">You can deploy a model as a real-time service that provides a real-time test UI and monitoring capabilities. After model training is complete, you can deploy a version with the ideal accuracy and in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname6921345181417"><b>Successful</b></span> status as a service. The procedure is as follows:</p>
<ol id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_ol1519325515325"><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li1019312553326">On the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_wintitle1930910441284"><b>Train Model</b></span> tab page, wait until the training status changes to <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1830964410280"><b>Successful</b></span>. Click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_uicontrol1631054422810"><b>Deploy</b></span> in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname131134482814"><b>Version Manager</b></span> pane to deploy the model as a real-time service.</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li1886993865611">In the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1668010715161"><b>Deploy</b></span> dialog box, select resource flavor, set the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1441201261616"><b>Auto Stop</b></span> function, and click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_uicontrol1630817267167"><b>OK</b></span> to start the deployment.<ul id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_ul4905171511010"><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li990514151901"><strong id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_b837973012396">Specifications</strong>: The GPU specifications are better, and the CPU specifications are more cost-effective. </li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li59065150012"><span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname836663111150"><b>Compute Nodes</b></span>: The default value is <span class="parmvalue" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmvalue1947544151512"><b>1</b></span> and cannot be changed.</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li89064151608"><span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1135010494156"><b>Auto Stop</b></span>: After this function is enabled and the auto stop time is set, a service automatically stops at the specified time. </li></ul>
<p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_p523824617221">The options are <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname16307131953410"><b>1 hour later</b></span>, <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1132031963412"><b>2 hours later</b></span>, <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname5320131923416"><b>4 hours later</b></span>, <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname33211819183413"><b>6 hours later</b></span>, and <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname3321519173420"><b>Custom</b></span>. If you select <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname167781045123412"><b>Custom</b></span>, you can enter any integer from 1 to 24 hours in the text box on the right.</p>
</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_li11245345209">After the model deployment is started, view the deployment status on the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_wintitle71131722123510"><b>Service Deployment</b></span> page.<p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_p139485445203">It takes a certain period of time to deploy a model. When the status in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname6741165118302"><b>Version Manager</b></span> pane changes from <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname49581321312"><b>Deploying</b></span> to <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_parmname1960319143117"><b>Running</b></span>, the deployment is complete.</p>
<div class="note" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_note073012476407"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_p16731447114018">On the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_en-us_topic_0169446156_wintitle055492014174"><b>ExeML</b></span> page, trained models can only be deployed as real-time services. For details about how to deploy them as batch services, see <a href="modelarts_21_0034.html">Where Are Models Generated by ExeML Stored? What Other Operations Are Supported?</a></p>
</div></div>
</li></ol>
</div>
<div class="section" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_section175639712572"><h4 class="sectiontitle">Testing a Service</h4><ul id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_ul81081912313"><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_li6108811637">On the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_wintitle1827513011214"><b>Service Deployment</b></span> page, select a service type. For example, on the ExeML page, the object detection model is deployed as a real-time service by default. On the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_wintitle12288180228"><b>Real-Time Services</b></span> page, click <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_parmname15289190127"><b>Prediction</b></span> in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_parmname42901109219"><b>Operation</b></span> column of the target service to perform a service test. For details, see "Testing a Service".</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_li144461334311">You can also use code to test a service. For details, see "Accessing a Real-Time Service".</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_li3528165337">The following describes the procedure for performing a service test after the object detection model is deployed as a service on the ExeML page.<ol id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_ol939671815523"><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_li9771161119539">After the model is deployed, test the service using an image. On the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_wintitle510101610317"><b>ExeML</b></span> page, click the target project, go to the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_wintitle1111916535"><b>Deploy Service</b></span> tab page, select the service version in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_parmname61214161335"><b>Running</b></span> status, click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_uicontrol171316161239"><b>Upload</b></span> in the service test area, and upload a local image to perform the test.</li><li id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_li1786641311616">Click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_uicontrol2739456633"><b>Predict</b></span> to perform the test. After the prediction is complete, the result is displayed in the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_parmname1936119102218"><b>Test Result</b></span> pane on the right. If the model accuracy does not meet your expectation, add images on the <span class="parmname" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_parmname1612617106418"><b>Label Data</b></span> tab page, label the images, and train and deploy the model again. <a href="#modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_table27971626122015">Table 1</a> describes the parameters in the prediction result. If you are satisfied with the model prediction result, call the API to access the real-time service as prompted. For details, see "Accessing a Real-Time Service".<p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p1071535862913">Currently, only JPG, JPEG, BMP, and PNG images are supported.</p>

<div class="tablenoborder"><a name="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_table27971626122015"></a><a name="en-us_topic_0284258842_en-us_topic_0169446262_table27971626122015"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_table27971626122015" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameters in the prediction result</caption><thead align="left"><tr id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_row8798202642018"><th align="left" class="cellrowborder" valign="top" width="23.919999999999998%" id="mcps1.3.2.2.3.1.2.6.2.3.1.1"><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p47981126172011">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="76.08%" id="mcps1.3.2.2.3.1.2.6.2.3.1.2"><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p1279892682015">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_row18798142662019"><td class="cellrowborder" valign="top" width="23.919999999999998%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.1 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p1179817267200">detection_classes</p>
</td>
<td class="cellrowborder" valign="top" width="76.08%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.2 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p9798152662018">Label of each detection box</p>
</td>
</tr>
<tr id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_row10798112613201"><td class="cellrowborder" valign="top" width="23.919999999999998%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.1 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p579892692020">detection_boxes</p>
</td>
<td class="cellrowborder" valign="top" width="76.08%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.2 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p107981326182012">Coordinates of four points (y_min, x_min, y_max, and x_max) of each detection box, as shown in <a href="#modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_fig8987811133012">Figure 1</a></p>
</td>
</tr>
<tr id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_row1579832642011"><td class="cellrowborder" valign="top" width="23.919999999999998%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.1 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p1979916265208">detection_scores</p>
</td>
<td class="cellrowborder" valign="top" width="76.08%" headers="mcps1.3.2.2.3.1.2.6.2.3.1.2 "><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p1379972610201">Confidence of each detection box</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="fignone" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_fig8987811133012"><a name="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_fig8987811133012"></a><a name="en-us_topic_0284258842_en-us_topic_0169446262_fig8987811133012"></a><span class="figcap"><b>Figure 1 </b>Illustration for coordinates of four points of a detection box</span><br><span><img id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_image17222139133016" src="en-us_image_0000001157080853.png"></span></div>
<div class="note" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_note7312157124013"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p83126764019">A running real-time service keeps consuming resources. If you do not need to use the real-time service, click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_uicontrol156331950419"><b>Stop</b></span> in the <span class="wintitle" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_wintitle196333501111"><b>Version Manager</b></span> pane to stop the service. If you want to use the service again, click <span class="uicontrol" id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_uicontrol868115231141"><b>Start</b></span>.</p>
<p id="modelarts_21_0013__en-us_topic_0284258842_en-us_topic_0169446262_p144234013505">If you enable the auto stop function, the service automatically stops after the specified time and no fee is generated.</p>
</div></div>
</li></ol>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_21_0008.html">Object Detection</a></div>
</div>
</div>

