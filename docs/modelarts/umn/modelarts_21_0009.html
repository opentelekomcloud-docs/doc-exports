<a name="modelarts_21_0009"></a><a name="modelarts_21_0009"></a>

<h1 class="topictitle1">Preparing Data</h1>
<div id="body8662426"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_p66197431013">Before using ModelArts ExeML to build a model, upload data to an OBS bucket. </p>
<div class="section" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_section155111779288"><h4 class="sectiontitle">Uploading Data to OBS</h4><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_p12441318410">This operation uses the OBS console to upload data. For more information about how to create a bucket and upload files, see <a href="https://docs.otc.t-systems.com/en-us/usermanual/obs/obs_03_0306.html" target="_blank" rel="noopener noreferrer">Creating a Bucket</a> and <a href="https://docs.otc.t-systems.com/en-us/usermanual/obs/obs_03_0307.html" target="_blank" rel="noopener noreferrer">Uploading a File</a>.</p>
<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_p109811029142820">Perform the following operations to import data to the dataset for model training and building.</p>
<ol id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_ol158321616185816"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_li4741337144812">Log in to OBS Console and <a href="https://docs.otc.t-systems.com/en-us/usermanual/obs/obs_03_0306.html" target="_blank" rel="noopener noreferrer">create a bucket</a>. </li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_li7561444588"><a href="https://docs.otc.t-systems.com/en-us/usermanual/obs/obs_03_0307.html" target="_blank" rel="noopener noreferrer">Upload the local data</a> to the OBS bucket. If you have a large amount of data, use OBS Browser+ to upload data or folders. The uploaded data must meet the dataset requirements of the ExeML project.</li></ol>
</div>
<div class="section" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_section158944528285"><h4 class="sectiontitle">Requirements on Datasets</h4><ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_ul123600579125"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_li193610572124">The name of files in a dataset cannot contain Chinese characters, plus signs (+), spaces, or tabs.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_li1736219578121">Ensure that no damaged image exists. The supported image formats include JPG, JPEG, BMP, and PNG.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_li036285781212">Do not store data of different projects in the same dataset.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_li13362857101211">To ensure the prediction accuracy of models, the training samples must be similar to the actual application scenarios.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_en-us_topic_0169446158_en-us_topic_0169446152_li7362135741216">To ensure the generalization capability of models, datasets should cover all possible scenarios.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li1406171111918">In an object detection dataset, if the coordinates of the bounding box exceed the boundaries of an image, the image cannot be identified as a labeled image.</li></ul>
</div>
<div class="section" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_en-us_topic_0169446152_section8308141595310"><h4 class="sectiontitle">Requirements for Files Uploaded to OBS</h4><ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_ul366913119228"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li12808450131514">If you do not need to upload training data in advance, create an empty folder to store files generated in the future, for example, <span class="filepath" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_filepath58551116191112"><b>/bucketName/data-cat</b></span>.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li2979741167">If you need to upload images to be labeled in advance, create an empty folder and save the images in the folder. An example of the image directory structure is <span class="filepath" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_filepath3979114141610"><b>/bucketName/data-cat/cat.jpg</b></span>.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li19154546102215">If you want to upload labeled images to the OBS bucket, upload them according to the following specifications:<ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_ul16340584619"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li46348574614">The dataset for object detection requires storing labeled objects and their label files (in one-to-one relationship with the labeled objects) in the same directory. For example, if the name of the labeled object is <span class="filepath" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_filepath16632143145312"><b>IMG_20180919_114745.jpg</b></span>, the name of the label file must be <span class="filepath" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_filepath12479844155315"><b>IMG_20180919_114745.xml</b></span>.<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p199324710527">The label files for object detection must be in PASCAL VOC format. For details about the format, see <a href="#modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table18220153119617">Table 1</a>.</p>
<div class="p" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p1747810389526">Example of data files:<pre class="screen" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_screen1880254115215">├─&lt;dataset-import-path&gt; 
      │      IMG_20180919_114732.jpg 
      │      IMG_20180919_114732.xml 
      │      IMG_20180919_114745.jpg 
      │      IMG_20180919_114745.xml 
      │      IMG_20180919_114945.jpg 
      │      IMG_20180919_114945.xml</pre>
</div>
</li></ul>
<ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_ul82831949175514"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li428394905511">Images in JPG, JPEG, PNG, and BMP formats are supported. When uploading images on the ModelArts console, ensure that the size of an image does not exceed 5 MB and the total size of images to be uploaded in one attempt does not exceed 8 MB. If the data volume is large, use OBS Browser+ to upload images.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li1622118314618">A label name can contain a maximum of 32 characters, including letters, digits, hyphens (-), and underscores (_).
<div class="tablenoborder"><a name="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table18220153119617"></a><a name="en-us_topic_0284258838_en-us_topic_0169446158_table18220153119617"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table18220153119617" frame="border" border="1" rules="all"><caption><b>Table 1 </b>PASCAL VOC format description</caption><thead align="left"><tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row121912310616"><th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.4.2.3.2.2.1.2.4.1.1"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p12219163111616">Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.4.2.3.2.2.1.2.4.1.2"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p2021915314611">Mandatory</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70%" id="mcps1.3.4.2.3.2.2.1.2.4.1.3"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p152191431961">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row1021912311764"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p7219153116611">folder</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p521923111618">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p15219831464">Directory where the data source is located</p>
</td>
</tr>
<tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row2021916311662"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p32192316617">filename</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p621913316610">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p17219431160">Name of the file to be labeled</p>
</td>
</tr>
<tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row322016311467"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p1621993116611">size</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p921915319613">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p4219431265">Image pixel</p>
<ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_ul922020311664"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li19219123111619"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname4650642171110"><b>width</b></span>: image width. This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li13219531868"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname15529104715117"><b>height</b></span>: image height. This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li15220931468"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname1531215524113"><b>depth</b></span>: number of image channels. This parameter is mandatory.</li></ul>
</td>
</tr>
<tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row52206311164"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p11220131469">segmented</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p4220143110614">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p18220831269">Segmented or not</p>
</td>
</tr>
<tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row162201317612"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p1322018311368">object</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p722010312616">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.1.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p19220531268">Object detection information. Multiple <span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname173221432121310"><b>object{}</b></span> functions are generated for multiple objects.</p>
<ul id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_ul62204311662"><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li112205315618"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname1568095901117"><b>name</b></span>: class of the labeled object. This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li82201311768"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname447877161210"><b>pose</b></span>: shooting angle of the labeled object. This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li132200311167"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname1998410128126"><b>truncated</b></span>: whether the labeled object is truncated (<span class="parmvalue" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmvalue426414185124"><b>0</b></span> indicates that the object is not truncated). This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li9220931268"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname20521132351214"><b>occluded</b></span>: whether the labeled object is occluded (<span class="parmvalue" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmvalue062142816123"><b>0</b></span> indicates that the object is not occluded). This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li1922010313611"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname10396633181218"><b>difficult</b></span>: whether the labeled object is difficult to identify (<span class="parmvalue" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmvalue51691239121211"><b>0</b></span> indicates that the object is easy to identify). This parameter is mandatory.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li922023115612"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname206421545131217"><b>confidence</b></span>: confidence score of the labeled object. The value range is 0 to 1. This parameter is optional.</li><li id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_li122013311369"><span class="parmname" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_parmname5447165117127"><b>bndbox</b></span>: bounding box type. This parameter is mandatory. For details about the possible values, see <a href="#modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table102211311866">Table 2</a>.</li></ul>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><a name="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table102211311866"></a><a name="en-us_topic_0284258838_en-us_topic_0169446158_table102211311866"></a><table cellpadding="4" cellspacing="0" summary="" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_table102211311866" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Description of bounding box types</caption><thead align="left"><tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row422015311065"><th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.4.2.3.2.2.2.2.4.1.1"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p17220123119613">type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.4.2.3.2.2.2.2.4.1.2"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p1422073118614">Shape</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="70%" id="mcps1.3.4.2.3.2.2.2.2.4.1.3"><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p16220193112620">Labeling Information</p>
</th>
</tr>
</thead>
<tbody><tr id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_row1422073114617"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.2.2.4.1.1 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p162201331160">bndbox</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.4.2.3.2.2.2.2.4.1.2 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p722013110616">Rectangle</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.3.4.2.3.2.2.2.2.4.1.3 "><p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p152201314620">Coordinates of the upper left and lower right points</p>
<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p0220133112617">&lt;xmin&gt;100&lt;xmin&gt;</p>
<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p1422017311616">&lt;ymin&gt;100&lt;ymin&gt;</p>
<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p522093118614">&lt;xmax&gt;200&lt;xmax&gt;</p>
<p id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p62201831569">&lt;ymax&gt;200&lt;ymax&gt;</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="p" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_p10221531966">Example of the label file in KITTI format:<pre class="screen" id="modelarts_21_0009__en-us_topic_0284258838_en-us_topic_0169446158_screen8221531362">&lt;annotation&gt;
   &lt;folder&gt;test_data&lt;/folder&gt;
   &lt;filename&gt;260730932.jpg&lt;/filename&gt;
   &lt;size&gt;
       &lt;width&gt;767&lt;/width&gt;
       &lt;height&gt;959&lt;/height&gt;
       &lt;depth&gt;3&lt;/depth&gt;
   &lt;/size&gt;
   &lt;segmented&gt;0&lt;/segmented&gt;
   &lt;object&gt;
       &lt;name&gt;bag&lt;/name&gt;
       &lt;pose&gt;Unspecified&lt;/pose&gt;
       &lt;truncated&gt;0&lt;/truncated&gt;
       &lt;occluded&gt;0&lt;/occluded&gt;
       &lt;difficult&gt;0&lt;/difficult&gt;
       &lt;bndbox&gt;
           &lt;xmin&gt;108&lt;/xmin&gt;
           &lt;ymin&gt;101&lt;/ymin&gt;
           &lt;xmax&gt;251&lt;/xmax&gt;
           &lt;ymax&gt;238&lt;/ymax&gt;
       &lt;/bndbox&gt;
   &lt;/object&gt;
&lt;/annotation&gt;</pre>
</div>
</li></ul>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_21_0008.html">Object Detection</a></div>
</div>
</div>

