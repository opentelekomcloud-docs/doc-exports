<a name="modelarts_21_0085"></a><a name="modelarts_21_0085"></a>

<h1 class="topictitle1">How Do I Invoke a Shell Script in a Training Job to Execute the .sh File?</h1>
<div id="body0000001279824505"><p id="modelarts_21_0085__en-us_topic_0200392419_p109071418171517">ModelArts enables you to invoke a shell script, and you can use Python to invoke <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath69074187152"><b>.sh</b></span>. The procedure is as follows:</p>
<ol id="modelarts_21_0085__en-us_topic_0200392419_ol6632173210442"><li id="modelarts_21_0085__en-us_topic_0200392419_li263253244410">Upload the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath149021434572"><b>.sh</b></span> script to an OBS bucket. For example, upload the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath38685711475"><b>.sh</b></span> script to <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath1427612391710"><b>/bucket-name/code/test.sh</b></span>.</li><li id="modelarts_21_0085__en-us_topic_0200392419_li16279132235116">Create the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath92811022145118"><b>.py</b></span> file on a local PC, for example, <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath628162216519"><b>test.py</b></span>. The background automatically downloads the code directory to the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath203534819920"><b>/home/work/user-job-dir/</b></span> directory of the container. Therefore, you can invoke the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath959132117495"><b>.sh</b></span> file in the <span class="parmname" id="modelarts_21_0085__en-us_topic_0200392419_parmname19591102119498"><b>test.py</b></span> boot file as follows:<pre class="screen" id="modelarts_21_0085__en-us_topic_0200392419_screen45918211496">import os
os.system('bash /home/work/user-job-dir/code/test.sh')</pre>
</li><li id="modelarts_21_0085__en-us_topic_0200392419_li16333115295010">Upload <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath96181443175518"><b>test.py</b></span> to OBS. Then the file storage path is <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath192811722165117"><b>/bucket-name/code/test.py</b></span>.</li><li id="modelarts_21_0085__en-us_topic_0200392419_li310415765316">When creating a training job, set the code directory to <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath10104107145314"><b>/bucket-name/code/</b></span>, and the boot file directory to <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath9651531283"><b>/bucket-name/code/test.py</b></span>.</li></ol>
<p id="modelarts_21_0085__en-us_topic_0200392419_p15607019125420">After the training job is created, you can use Python to invoke the <span class="filepath" id="modelarts_21_0085__en-us_topic_0200392419_filepath1957212569544"><b>.sh</b></span> file.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="modelarts_05_0030.html">Training Jobs</a></div>
</div>
</div>

