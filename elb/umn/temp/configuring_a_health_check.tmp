<a name="en-us_topic_0162227063"></a><a name="en-us_topic_0162227063"></a>

<h1 class="topictitle1">Configuring a Health Check</h1>
<h4 class="sectiontitle">Scenarios</h4><p id="en-us_topic_0162227063__p11807184716312">You can configure a health check when you add a listener. If you have no special requirements, retain the default settings.</p>

<h4 class="sectiontitle">Function Description</h4><ul id="en-us_topic_0162227063__ul1244310471968"><li id="en-us_topic_0162227063__li1244314479619">The health check protocol can be different from the backend protocol.</li><li id="en-us_topic_0162227063__li3125352568">To reduce the CPU usage of backend servers, you can use TCP for health checks. If you want to use HTTP for health checks, use static files to obtain the health statuses.</li><li id="en-us_topic_0162227063__li17484194161016">You can increase the health check interval to reduce the health check frequency.</li><li id="en-us_topic_0162227063__li48441141161412">After you enable health checks, the load balancer immediately checks the health of backend servers and will start routing requests over new connections. If a backend server becomes unhealthy, the load balancer will stop routing traffic to it. However, request routing over established connections is not affected. To ensure service availability, you can enable health checks during off-peak hours.</li></ul>

<h4 class="sectiontitle">Configuring a Health Check for <span id="en-us_topic_0162227063__ph1952892414212">a Shared</span> Load Balancer</h4><ol id="en-us_topic_0162227063__ol5312821122018"><li id="en-us_topic_0162227063__li677391520332">Log in to the management console.</li><li id="en-us_topic_0162227063__li675519100420">In the upper left corner of the page, click <span><img id="en-us_topic_0162227063__en-us_topic_0240829509_image177714713415" src="en-us_image_0241356603.png"></span> and select the desired region and project.</li><li id="en-us_topic_0162227063__li83736197297">Hover on <span><img id="en-us_topic_0162227063__en-us_topic_0052569751_en-us_topic_0052569751_image616618613" src="en-us_image_0000001120894978.png"></span> in the upper left corner to display <strong id="en-us_topic_0162227063__en-us_topic_0052569751_b9121102522212">Service List</strong> and choose <strong id="en-us_topic_0162227063__en-us_topic_0052569751_b61222025142217">Network</strong> &gt; <strong id="en-us_topic_0162227063__en-us_topic_0052569751_b4124425142210">Elastic Load Balancing</strong>.</li><li id="en-us_topic_0162227063__li826120259204">Locate the load balancer and click its name.</li><li id="en-us_topic_0162227063__li119961554152810">Click <strong id="en-us_topic_0162227063__b191264321314">Backend Server Groups</strong>, locate the backend <span id="en-us_topic_0162227063__text6177938174213">server</span> group, and click its name.</li><li id="en-us_topic_0162227063__li416017569309">Click <strong id="en-us_topic_0162227063__b84235270611334">More</strong> in the <strong id="en-us_topic_0162227063__b84235270611331">Operation</strong> column.</li><li id="en-us_topic_0162227063__li1438812372133">Select <strong id="en-us_topic_0162227063__b177504921312">Configure Health Check</strong> from the drop-down list.</li><li id="en-us_topic_0162227063__li353264814359">In the <strong id="en-us_topic_0162227063__b1243871619134">Configure Health Check</strong> dialog box, configure the parameters based on <a href="#en-us_topic_0162227063__table95680412371">Table 1</a>.
.. _en-us_topic_0162227063__table95680412371:

<a name="en-us_topic_0162227063__table95680412371"></a><a name="table95680412371"></a><table cellpadding="4" cellspacing="0" summary="" id="en-us_topic_0162227063__table95680412371" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameters for configuring a health check</caption><thead align="left"><tr id="en-us_topic_0162227063__row1256210411378"><th align="left" class="cellrowborder" valign="top" width="18%" id="mcps1.3.3.2.8.3.2.4.1.1"><p id="en-us_topic_0162227063__p156218414377">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="62%" id="mcps1.3.3.2.8.3.2.4.1.2"><p id="en-us_topic_0162227063__p45620443711"><strong id="en-us_topic_0162227063__b1513861710">Description</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.3.3.2.8.3.2.4.1.3"><p id="en-us_topic_0162227063__p185622433710"><strong id="en-us_topic_0162227063__b313593011">Example Value</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_topic_0162227063__row456214163715"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p105621646371">Enable Health Check</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p175623416377">Specifies whether to enable health checks.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p1756213415373">N/A</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row1556318453710"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p175624417375">Protocol</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><ul id="en-us_topic_0162227063__ul87771056182516"><li id="en-us_topic_0162227063__li167776566252">Specifies the protocol used by the load balancer to perform health checks on backend servers. You can select either TCP or HTTP. A selected protocol cannot be changed.</li><li id="en-us_topic_0162227063__li4777156152515">If the frontend protocol is UDP, the health check protocol is UDP by default.</li></ul>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p65626414372">HTTP</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row639273671211"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p1563841377">Domain Name</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p126107501713">Specifies the domain name that will be used for health checks.</p>
<p id="en-us_topic_0162227063__p16303138161710">The domain name can contain digits, letters, hyphens (-), and periods (.), and must start with a digit or letter. The field is left blank by default and is available only when the health check protocol is HTTP.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p256311403714">www.elb.com</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row1756314153720"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p195631416374">Port</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p1956313417375">Specifies the port used by the load balancer to perform health checks on backend servers. The port number ranges from 1 to 65535.</p>
<span class="notetitle"> NOTE: </span><p id="en-us_topic_0162227063__p1056315493716">This parameter is optional. If you do not specify a health check port, a port of the backend server will be used for health checks by default. If you specify a port, it will be used for health checks.</p>

</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p19563940375">80</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row3365201011337"><td class="cellrowborder" colspan="3" valign="top" headers="mcps1.3.3.2.8.3.2.4.1.1 mcps1.3.3.2.8.3.2.4.1.2 mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p2366191073319">Advanced Settings</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row456394163714"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p195635417372">Interval (s)</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p10563104203711">Specifies the maximum time between health checks, in seconds.</p>
<p id="en-us_topic_0162227063__p15639419374">The interval ranges from <strong id="en-us_topic_0162227063__b296928527">1</strong> to <strong id="en-us_topic_0162227063__b1355812481">50</strong>.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p5563148375">5</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row205644443718"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p25631040376">Timeout (s)</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p75641743371">Specifies the maximum time required for waiting for a response from the health check, in seconds. The timeout duration ranges from <strong id="en-us_topic_0162227063__b619119552169">1</strong> to <strong id="en-us_topic_0162227063__b319135571617">50</strong>.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p175641747374">3</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row7791163020103"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p75647419370">Check Path</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p8564948375">Specifies the destination path for health checks. Configure this parameter only if you have set <strong id="en-us_topic_0162227063__b1610375738">Protocol</strong> to <strong id="en-us_topic_0162227063__b2083039153">HTTP</strong>. The path can contain 1 to 80 characters and <span id="en-us_topic_0162227063__ph1957339446">must start with a slash (/)</span>.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p45643417371">/index.html</p>
</td>
</tr>
<tr id="en-us_topic_0162227063__row16567144143718"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.3.3.2.8.3.2.4.1.1 "><p id="en-us_topic_0162227063__p356411463720">Maximum Retries</p>
</td>
<td class="cellrowborder" valign="top" width="62%" headers="mcps1.3.3.2.8.3.2.4.1.2 "><p id="en-us_topic_0162227063__p3567184103716">Specifies the maximum number of health check retries. The value ranges from <strong id="en-us_topic_0162227063__b10611301">1</strong> to <strong id="en-us_topic_0162227063__b675079024">10</strong>.</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.3.3.2.8.3.2.4.1.3 "><p id="en-us_topic_0162227063__p11567194133711">3</p>
</td>
</tr>
</tbody>
</table>

</li><li id="en-us_topic_0162227063__li1884133194615">Click <strong id="en-us_topic_0162227063__b17791825531">Finish</strong>.</li></ol>







